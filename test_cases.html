<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>simple-sql-parser - </title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="main.css" type="text/css" />
</head>
<body>
<h1 id="parsertest">parserTest</h1>
<h2 id="scalarexprparsertests">scalarExprParserTests</h2>
<h3 id="literals">literals</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="dv">3</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">NumLit</span> <span class="st">&quot;3&quot;</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="dv">3</span>.</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">NumLit</span> <span class="st">&quot;3.&quot;</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fl">3.3</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">NumLit</span> <span class="st">&quot;3.3&quot;</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">.<span class="dv">3</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">NumLit</span> <span class="st">&quot;.3&quot;</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fl">3.e3</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">NumLit</span> <span class="st">&quot;3.e3&quot;</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fl">3.3e3</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">NumLit</span> <span class="st">&quot;3.3e3&quot;</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">.<span class="fl">3e3</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">NumLit</span> <span class="st">&quot;.3e3&quot;</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fl">3e3</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">NumLit</span> <span class="st">&quot;3e3&quot;</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fl">3e+3</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">NumLit</span> <span class="st">&quot;3e+3&quot;</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fl">3e-3</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">NumLit</span> <span class="st">&quot;3e-3&quot;</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="st">&#39;string&#39;</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">StringLit</span> <span class="st">&quot;string&quot;</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="st">&#39;1&#39;</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">StringLit</span> <span class="st">&quot;1&quot;</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="dt">interval</span> <span class="st">&#39;3&#39;</span> <span class="dt">day</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">IntervalLit</span> <span class="st">&quot;3&quot;</span> <span class="st">&quot;day&quot;</span> <span class="kw">Nothing</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="dt">interval</span> <span class="st">&#39;3&#39;</span> <span class="dt">day</span> (<span class="dv">3</span>)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">IntervalLit</span> <span class="st">&quot;3&quot;</span> <span class="st">&quot;day&quot;</span> (<span class="kw">Just</span> <span class="dv">3</span>)</code></pre>
</td></tr>
</table>
<h3 id="identifiers">identifiers</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">iden1</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Iden</span> <span class="st">&quot;iden1&quot;</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">t.a</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Iden2</span> <span class="st">&quot;t&quot;</span> <span class="st">&quot;a&quot;</span></code></pre>
</td></tr>
</table>
<h3 id="star">star</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">*</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Star</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">t.*</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Star2</span> <span class="st">&quot;t&quot;</span></code></pre>
</td></tr>
</table>
<h3 id="app">app</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">f()</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">App</span> <span class="st">&quot;f&quot;</span> []</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">f(a)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">App</span> <span class="st">&quot;f&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>]</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">f(a,b)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">App</span> <span class="st">&quot;f&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>]</code></pre>
</td></tr>
</table>
<h3 id="caseexp">caseexp</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">case</span> a <span class="kw">when</span> <span class="dv">1</span> <span class="kw">then</span> <span class="dv">2</span> <span class="kw">end</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Case</span> (<span class="kw">Just</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)) [(<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;2&quot;</span>)] <span class="kw">Nothing</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">case</span> a <span class="kw">when</span> <span class="dv">1</span> <span class="kw">then</span> <span class="dv">2</span> <span class="kw">when</span> <span class="dv">3</span> <span class="kw">then</span> <span class="dv">4</span> <span class="kw">end</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Case</span> (<span class="kw">Just</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>))
  [(<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;2&quot;</span>), (<span class="dt">NumLit</span> <span class="st">&quot;3&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;4&quot;</span>)]
  <span class="kw">Nothing</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">case</span> a <span class="kw">when</span> <span class="dv">1</span> <span class="kw">then</span> <span class="dv">2</span> <span class="kw">when</span> <span class="dv">3</span> <span class="kw">then</span> <span class="dv">4</span> <span class="kw">else</span> <span class="dv">5</span> <span class="kw">end</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Case</span> (<span class="kw">Just</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>))
  [(<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;2&quot;</span>), (<span class="dt">NumLit</span> <span class="st">&quot;3&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;4&quot;</span>)]
  (<span class="kw">Just</span> (<span class="dt">NumLit</span> <span class="st">&quot;5&quot;</span>))</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">case</span> <span class="kw">when</span> a=<span class="dv">1</span> <span class="kw">then</span> <span class="dv">2</span> <span class="kw">when</span> a=<span class="dv">3</span> <span class="kw">then</span> <span class="dv">4</span> <span class="kw">else</span> <span class="dv">5</span> <span class="kw">end</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Case</span> <span class="kw">Nothing</span>
  [(<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>), <span class="dt">NumLit</span> <span class="st">&quot;2&quot;</span>),
   (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;3&quot;</span>), <span class="dt">NumLit</span> <span class="st">&quot;4&quot;</span>)]
  (<span class="kw">Just</span> (<span class="dt">NumLit</span> <span class="st">&quot;5&quot;</span>))</code></pre>
</td></tr>
</table>
<h3 id="operators">operators</h3>
<h4 id="binaryoperators">binaryOperators</h4>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a + b</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;+&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a + b * c</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;+&quot;</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>) <span class="st">&quot;*&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;c&quot;</span>))</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a * b + c</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">BinOp</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;*&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>)) <span class="st">&quot;+&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;c&quot;</span>)</code></pre>
</td></tr>
</table>
<h4 id="unaryoperators">unaryOperators</h4>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">not</span> a</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">PrefixOp</span> <span class="st">&quot;not&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">not</span> <span class="kw">not</span> a</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">PrefixOp</span> <span class="st">&quot;not&quot;</span> (<span class="dt">PrefixOp</span> <span class="st">&quot;not&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>))</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">+a</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">PrefixOp</span> <span class="st">&quot;+&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">-a</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">PrefixOp</span> <span class="st">&quot;-&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)</code></pre>
</td></tr>
</table>
<h4 id="operators-1">operators</h4>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fu">cast</span>(<span class="st">&#39;1&#39;</span> <span class="kw">as</span> <span class="dt">int</span>)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Cast</span> (<span class="dt">StringLit</span> <span class="st">&quot;1&quot;</span>) (<span class="dt">TypeName</span> <span class="st">&quot;int&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="dt">int</span> <span class="st">&#39;3&#39;</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;int&quot;</span>) <span class="st">&quot;3&quot;</span></code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fu">cast</span>(<span class="st">&#39;1&#39;</span> <span class="kw">as</span> <span class="dt">double</span> <span class="dt">precision</span>)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Cast</span> (<span class="dt">StringLit</span> <span class="st">&quot;1&quot;</span>) (<span class="dt">TypeName</span> <span class="st">&quot;double precision&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="dt">double</span> <span class="dt">precision</span> <span class="st">&#39;3&#39;</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;double precision&quot;</span>) <span class="st">&quot;3&quot;</span></code></pre>
</td></tr>
</table>
<h4 id="unaryoperators-1">unaryOperators</h4>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">in</span> (<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">In</span> <span class="kw">True</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) (<span class="dt">InList</span> [<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;2&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;3&quot;</span>])</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">between</span> b <span class="kw">and</span> c</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">SpecialOp</span> <span class="st">&quot;between&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;c&quot;</span>]</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">not</span> <span class="kw">between</span> b <span class="kw">and</span> c</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">SpecialOp</span> <span class="st">&quot;not between&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;c&quot;</span>]</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">is</span> <span class="kw">null</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">PostfixOp</span> <span class="st">&quot;is null&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">is</span> <span class="kw">not</span> <span class="kw">null</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">PostfixOp</span> <span class="st">&quot;is not null&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">is</span> <span class="kw">true</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">PostfixOp</span> <span class="st">&quot;is true&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">is</span> <span class="kw">not</span> <span class="kw">true</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">PostfixOp</span> <span class="st">&quot;is not true&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">is</span> <span class="kw">false</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">PostfixOp</span> <span class="st">&quot;is false&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">is</span> <span class="kw">not</span> <span class="kw">false</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">PostfixOp</span> <span class="st">&quot;is not false&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">is</span> unknown</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">PostfixOp</span> <span class="st">&quot;is unknown&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">is</span> <span class="kw">not</span> unknown</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">PostfixOp</span> <span class="st">&quot;is not unknown&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">is</span> <span class="kw">distinct</span> <span class="kw">from</span> b</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;is distinct from&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">is</span> <span class="kw">not</span> <span class="kw">distinct</span> <span class="kw">from</span> b</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;is not distinct from&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">like</span> b</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;like&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">not</span> <span class="kw">like</span> b</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;not like&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">is</span> similar <span class="kw">to</span> b</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;is similar to&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">is</span> <span class="kw">not</span> similar <span class="kw">to</span> b</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;is not similar to&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">overlaps</span> b</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;overlaps&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fu">extract</span>(<span class="dt">day</span> <span class="kw">from</span> t)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">SpecialOp</span> <span class="st">&quot;extract&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;day&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;t&quot;</span>]</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">substring(x <span class="kw">from</span> <span class="dv">1</span> <span class="kw">for</span> <span class="dv">2</span>)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">SpecialOp</span> <span class="st">&quot;substring&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;x&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;2&quot;</span>]</code></pre>
</td></tr>
</table>
<h3 id="parens">parens</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">(a)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Parens</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">(a + b)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Parens</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;+&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>))</code></pre>
</td></tr>
</table>
<h3 id="unaryoperators-2">unaryOperators</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">exists</span> (<span class="kw">select</span> a <span class="kw">from</span> t)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">SubQueryExpr</span> <span class="dt">SqExists</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">(<span class="kw">select</span> a <span class="kw">from</span> t)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">SubQueryExpr</span> <span class="dt">SqSq</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">in</span> (<span class="kw">select</span> a <span class="kw">from</span> t)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">In</span> <span class="kw">True</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)
  (<span class="dt">InQueryExpr</span>
     (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
             qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
             qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
             qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}))</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a <span class="kw">not</span> <span class="kw">in</span> (<span class="kw">select</span> a <span class="kw">from</span> t)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">In</span> <span class="kw">False</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)
  (<span class="dt">InQueryExpr</span>
     (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
             qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
             qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
             qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}))</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a &gt; <span class="kw">all</span> (<span class="kw">select</span> a <span class="kw">from</span> t)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;&gt;&quot;</span>
  (<span class="dt">SubQueryExpr</span> <span class="dt">SqAll</span>
     (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
             qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
             qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
             qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}))</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a = <span class="kw">some</span> (<span class="kw">select</span> a <span class="kw">from</span> t)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;=&quot;</span>
  (<span class="dt">SubQueryExpr</span> <span class="dt">SqSome</span>
     (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
             qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
             qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
             qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}))</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">a &lt;= <span class="kw">any</span> (<span class="kw">select</span> a <span class="kw">from</span> t)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;&lt;=&quot;</span>
  (<span class="dt">SubQueryExpr</span> <span class="dt">SqAny</span>
     (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
             qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
             qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
             qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}))</code></pre>
</td></tr>
</table>
<h3 id="aggregates">aggregates</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fu">count</span>(*)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">App</span> <span class="st">&quot;count&quot;</span> [<span class="dt">Star</span>]</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fu">sum</span>(a <span class="kw">order</span> <span class="kw">by</span> a)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">AggregateApp</span> <span class="st">&quot;sum&quot;</span> <span class="kw">Nothing</span> [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>] [(<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>, <span class="dt">Asc</span>)]</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fu">sum</span>(<span class="kw">all</span> a)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">AggregateApp</span> <span class="st">&quot;sum&quot;</span> (<span class="kw">Just</span> <span class="dt">All</span>) [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>] []</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fu">count</span>(<span class="kw">distinct</span> a)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">AggregateApp</span> <span class="st">&quot;count&quot;</span> (<span class="kw">Just</span> <span class="dt">Distinct</span>) [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>] []</code></pre>
</td></tr>
</table>
<h3 id="windowfunctions">windowFunctions</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fu">max</span>(a) <span class="kw">over</span> ()</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">WindowApp</span> <span class="st">&quot;max&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>] [] []</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fu">count</span>(*) <span class="kw">over</span> ()</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">WindowApp</span> <span class="st">&quot;count&quot;</span> [<span class="dt">Star</span>] [] []</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fu">max</span>(a) <span class="kw">over</span> (<span class="kw">partition</span> <span class="kw">by</span> b)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">WindowApp</span> <span class="st">&quot;max&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>] [<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>] []</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fu">max</span>(a) <span class="kw">over</span> (<span class="kw">partition</span> <span class="kw">by</span> b,c)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">WindowApp</span> <span class="st">&quot;max&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>] [<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;c&quot;</span>] []</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fu">sum</span>(a) <span class="kw">over</span> (<span class="kw">order</span> <span class="kw">by</span> b)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">WindowApp</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>] [] [(<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>, <span class="dt">Asc</span>)]</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fu">sum</span>(a) <span class="kw">over</span> (<span class="kw">order</span> <span class="kw">by</span> b <span class="kw">desc</span>,c)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">WindowApp</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>] [] [(<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>, <span class="dt">Desc</span>), (<span class="dt">Iden</span> <span class="st">&quot;c&quot;</span>, <span class="dt">Asc</span>)]</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="fu">sum</span>(a) <span class="kw">over</span> (<span class="kw">partition</span> <span class="kw">by</span> b <span class="kw">order</span> <span class="kw">by</span> c)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">WindowApp</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>] [<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>] [(<span class="dt">Iden</span> <span class="st">&quot;c&quot;</span>, <span class="dt">Asc</span>)]</code></pre>
</td></tr>
</table>
<h2 id="queryexprparsertests">queryExprParserTests</h2>
<h3 id="duplicates">duplicates</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
       qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> <span class="kw">all</span> a <span class="kw">from</span> t</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
       qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> <span class="kw">distinct</span> a <span class="kw">from</span> t</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">Distinct</span>,
       qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)], qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>],
       qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
</table>
<h3 id="selectlists">selectLists</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> <span class="dv">1</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>)],
       qeFrom <span class="fu">=</span> [], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span> [], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a,b</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
       qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>)],
       qeFrom <span class="fu">=</span> [], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> <span class="dv">1+2</span>,<span class="dv">3+4</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
       qeSelectList <span class="fu">=</span>
         [(<span class="kw">Nothing</span>, <span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>) <span class="st">&quot;+&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;2&quot;</span>)),
          (<span class="kw">Nothing</span>, <span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;3&quot;</span>) <span class="st">&quot;+&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;4&quot;</span>))],
       qeFrom <span class="fu">=</span> [], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">as</span> a, <span class="co">/*comment*/</span> b <span class="kw">as</span> b</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
       qeSelectList <span class="fu">=</span> [(<span class="kw">Just</span> <span class="st">&quot;a&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>), (<span class="kw">Just</span> <span class="st">&quot;b&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>)],
       qeFrom <span class="fu">=</span> [], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a a, b b</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
       qeSelectList <span class="fu">=</span> [(<span class="kw">Just</span> <span class="st">&quot;a&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>), (<span class="kw">Just</span> <span class="st">&quot;b&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>)],
       qeFrom <span class="fu">=</span> [], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
</table>
<h3 id="from">from</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
       qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t,u</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
       qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">inner</span> <span class="kw">join</span> u <span class="kw">on</span> expr</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span>
         [<span class="dt">TRJoin</span> (<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>) <span class="dt">JInner</span> (<span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>)
            (<span class="kw">Just</span> (<span class="dt">JoinOn</span> (<span class="dt">Iden</span> <span class="st">&quot;expr&quot;</span>)))],
       qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">left</span> <span class="kw">join</span> u <span class="kw">on</span> expr</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span>
         [<span class="dt">TRJoin</span> (<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>) <span class="dt">JLeft</span> (<span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>)
            (<span class="kw">Just</span> (<span class="dt">JoinOn</span> (<span class="dt">Iden</span> <span class="st">&quot;expr&quot;</span>)))],
       qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">right</span> <span class="kw">join</span> u <span class="kw">on</span> expr</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span>
         [<span class="dt">TRJoin</span> (<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>) <span class="dt">JRight</span> (<span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>)
            (<span class="kw">Just</span> (<span class="dt">JoinOn</span> (<span class="dt">Iden</span> <span class="st">&quot;expr&quot;</span>)))],
       qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">full</span> <span class="kw">join</span> u <span class="kw">on</span> expr</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span>
         [<span class="dt">TRJoin</span> (<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>) <span class="dt">JFull</span> (<span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>)
            (<span class="kw">Just</span> (<span class="dt">JoinOn</span> (<span class="dt">Iden</span> <span class="st">&quot;expr&quot;</span>)))],
       qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">cross</span> <span class="kw">join</span> u</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span> [<span class="dt">TRJoin</span> (<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>) <span class="dt">JCross</span> (<span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>) <span class="kw">Nothing</span>],
       qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">natural</span> <span class="kw">inner</span> <span class="kw">join</span> u</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span>
         [<span class="dt">TRJoin</span> (<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>) <span class="dt">JInner</span> (<span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>) (<span class="kw">Just</span> <span class="dt">JoinNatural</span>)],
       qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">inner</span> <span class="kw">join</span> u <span class="kw">using</span>(a,b)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span>
         [<span class="dt">TRJoin</span> (<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>) <span class="dt">JInner</span> (<span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>)
            (<span class="kw">Just</span> (<span class="dt">JoinUsing</span> [<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>]))],
       qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> (<span class="kw">select</span> a <span class="kw">from</span> t)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span>
         [<span class="dt">TRQueryExpr</span>
            (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
                    qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
                    qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
                    qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})],
       qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">as</span> u</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span> [<span class="dt">TRAlias</span> (<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>) <span class="st">&quot;u&quot;</span> <span class="kw">Nothing</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
       qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t u</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span> [<span class="dt">TRAlias</span> (<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>) <span class="st">&quot;u&quot;</span> <span class="kw">Nothing</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
       qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t u(b)</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span> [<span class="dt">TRAlias</span> (<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>) <span class="st">&quot;u&quot;</span> (<span class="kw">Just</span> [<span class="st">&quot;b&quot;</span>])],
       qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> (t <span class="kw">cross</span> <span class="kw">join</span> u) <span class="kw">as</span> u</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span>
         [<span class="dt">TRAlias</span>
            (<span class="dt">TRParens</span> (<span class="dt">TRJoin</span> (<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>) <span class="dt">JCross</span> (<span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>) <span class="kw">Nothing</span>))
            <span class="st">&quot;u&quot;</span>
            <span class="kw">Nothing</span>],
       qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">cross</span> <span class="kw">join</span> u <span class="kw">cross</span> <span class="kw">join</span> v</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span>
         [<span class="dt">TRJoin</span> (<span class="dt">TRJoin</span> (<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>) <span class="dt">JCross</span> (<span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>) <span class="kw">Nothing</span>)
            <span class="dt">JCross</span>
            (<span class="dt">TRSimple</span> <span class="st">&quot;v&quot;</span>)
            <span class="kw">Nothing</span>],
       qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
</table>
<h3 id="whereclause">whereClause</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">where</span> a = <span class="dv">5</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>],
       qeWhere <span class="fu">=</span> <span class="kw">Just</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;5&quot;</span>)), qeGroupBy <span class="fu">=</span> [],
       qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
</table>
<h3 id="groupbyclause">groupByClause</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a,<span class="fu">sum</span>(b) <span class="kw">from</span> t <span class="kw">group</span> <span class="kw">by</span> a</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
       qeSelectList <span class="fu">=</span>
         [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">App</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>])],
       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>],
       qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a,b,<span class="fu">sum</span>(c) <span class="kw">from</span> t <span class="kw">group</span> <span class="kw">by</span> a,b</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
       qeSelectList <span class="fu">=</span>
         [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>),
          (<span class="kw">Nothing</span>, <span class="dt">App</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;c&quot;</span>])],
       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
</table>
<h3 id="having">having</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a,<span class="fu">sum</span>(b) <span class="kw">from</span> t <span class="kw">group</span> <span class="kw">by</span> a <span class="kw">having</span> <span class="fu">sum</span>(b) &gt; <span class="dv">5</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
       qeSelectList <span class="fu">=</span>
         [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">App</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>])],
       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>],
       qeHaving <span class="fu">=</span> <span class="kw">Just</span> (<span class="dt">BinOp</span> (<span class="dt">App</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>]) <span class="st">&quot;&gt;&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;5&quot;</span>)),
       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
</table>
<h3 id="orderby">orderBy</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">order</span> <span class="kw">by</span> a</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
       qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>, <span class="dt">Asc</span>)],
       qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">order</span> <span class="kw">by</span> a, b</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
       qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>, <span class="dt">Asc</span>), (<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>, <span class="dt">Asc</span>)],
       qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">order</span> <span class="kw">by</span> a <span class="kw">asc</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
       qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>, <span class="dt">Asc</span>)],
       qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">order</span> <span class="kw">by</span> a <span class="kw">desc</span>, b <span class="kw">desc</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
       qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>, <span class="dt">Desc</span>), (<span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>, <span class="dt">Desc</span>)],
       qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
</table>
<h3 id="limit">limit</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">limit</span> <span class="dv">10</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
       qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Just</span> (<span class="dt">NumLit</span> <span class="st">&quot;10&quot;</span>),
       qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">limit</span> <span class="dv">10</span> offset <span class="dv">10</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
       qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Just</span> (<span class="dt">NumLit</span> <span class="st">&quot;10&quot;</span>),
       qeOffset <span class="fu">=</span> <span class="kw">Just</span> (<span class="dt">NumLit</span> <span class="st">&quot;10&quot;</span>)}</code></pre>
</td></tr>
</table>
<h3 id="combos">combos</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">union</span> <span class="kw">select</span> b <span class="kw">from</span> u</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">CombineQueryExpr</span>{qe1 <span class="fu">=</span>
                   <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
                          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
                          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
                          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>},
                 qeCombOp <span class="fu">=</span> <span class="dt">Union</span>, qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                 qeCorresponding <span class="fu">=</span> <span class="dt">Respectively</span>,
                 qe2 <span class="fu">=</span>
                   <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>)],
                          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
                          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
                          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">intersect</span> <span class="kw">select</span> b <span class="kw">from</span> u</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">CombineQueryExpr</span>{qe1 <span class="fu">=</span>
                   <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
                          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
                          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
                          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>},
                 qeCombOp <span class="fu">=</span> <span class="dt">Intersect</span>, qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                 qeCorresponding <span class="fu">=</span> <span class="dt">Respectively</span>,
                 qe2 <span class="fu">=</span>
                   <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>)],
                          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
                          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
                          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">except</span> <span class="kw">all</span> <span class="kw">select</span> b <span class="kw">from</span> u</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">CombineQueryExpr</span>{qe1 <span class="fu">=</span>
                   <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
                          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
                          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
                          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>},
                 qeCombOp <span class="fu">=</span> <span class="dt">Except</span>, qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                 qeCorresponding <span class="fu">=</span> <span class="dt">Respectively</span>,
                 qe2 <span class="fu">=</span>
                   <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>)],
                          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
                          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
                          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">union</span> <span class="kw">distinct</span> corresponding <span class="kw">select</span> b <span class="kw">from</span> u</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">CombineQueryExpr</span>{qe1 <span class="fu">=</span>
                   <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
                          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
                          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
                          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>},
                 qeCombOp <span class="fu">=</span> <span class="dt">Union</span>, qeDuplicates <span class="fu">=</span> <span class="dt">Distinct</span>,
                 qeCorresponding <span class="fu">=</span> <span class="dt">Corresponding</span>,
                 qe2 <span class="fu">=</span>
                   <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;b&quot;</span>)],
                          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
                          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
                          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">union</span> <span class="kw">select</span> a <span class="kw">from</span> t <span class="kw">union</span> <span class="kw">select</span> a <span class="kw">from</span> t</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">CombineQueryExpr</span>{qe1 <span class="fu">=</span>
                   <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
                          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
                          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
                          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>},
                 qeCombOp <span class="fu">=</span> <span class="dt">Union</span>, qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                 qeCorresponding <span class="fu">=</span> <span class="dt">Respectively</span>,
                 qe2 <span class="fu">=</span>
                   <span class="dt">CombineQueryExpr</span>{qe1 <span class="fu">=</span>
                                      <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                                             qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
                                             qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>,
                                             qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
                                             qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>},
                                    qeCombOp <span class="fu">=</span> <span class="dt">Union</span>, qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                                    qeCorresponding <span class="fu">=</span> <span class="dt">Respectively</span>,
                                    qe2 <span class="fu">=</span>
                                      <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                                             qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
                                             qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>,
                                             qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
                                             qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}}}</code></pre>
</td></tr>
</table>
<h3 id="with-queries">with queries</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">with</span> u <span class="kw">as</span> (<span class="kw">select</span> a <span class="kw">from</span> t) <span class="kw">select</span> a <span class="kw">from</span> u</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">With</span>
  [(<span class="st">&quot;u&quot;</span>,
    <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
           qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
           qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
           qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})]
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">with</span> x <span class="kw">as</span> (<span class="kw">select</span> a <span class="kw">from</span> t),
     u <span class="kw">as</span> (<span class="kw">select</span> a <span class="kw">from</span> x)
<span class="kw">select</span> a <span class="kw">from</span> u</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">With</span>
  [(<span class="st">&quot;x&quot;</span>,
    <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
           qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
           qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
           qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}),
   (<span class="st">&quot;u&quot;</span>,
    <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
           qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;x&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
           qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
           qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})]
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>)],
          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
</table>
<h3 id="queries">queries</h3>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> <span class="fu">count</span>(*) <span class="kw">from</span> t</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
       qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">App</span> <span class="st">&quot;count&quot;</span> [<span class="dt">Star</span>])],
       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
       qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> a, <span class="fu">sum</span>(c+d) <span class="kw">as</span> s
  <span class="kw">from</span> t,u
  <span class="kw">where</span> a &gt; <span class="dv">5</span>
  <span class="kw">group</span> <span class="kw">by</span> a
  <span class="kw">having</span> <span class="fu">count</span>(<span class="dv">1</span>) &gt; <span class="dv">5</span>
  <span class="kw">order</span> <span class="kw">by</span> s</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
       qeSelectList <span class="fu">=</span>
         [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>),
          (<span class="kw">Just</span> <span class="st">&quot;s&quot;</span>, <span class="dt">App</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;c&quot;</span>) <span class="st">&quot;+&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;d&quot;</span>)])],
       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;t&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;u&quot;</span>],
       qeWhere <span class="fu">=</span> <span class="kw">Just</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>) <span class="st">&quot;&gt;&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;5&quot;</span>)),
       qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;a&quot;</span>],
       qeHaving <span class="fu">=</span>
         <span class="kw">Just</span> (<span class="dt">BinOp</span> (<span class="dt">App</span> <span class="st">&quot;count&quot;</span> [<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>]) <span class="st">&quot;&gt;&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;5&quot;</span>)),
       qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;s&quot;</span>, <span class="dt">Asc</span>)], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
       qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}</code></pre>
</td></tr>
</table>
<h2 id="query-exprs">query exprs</h2>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> <span class="dv">1</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell">[<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>)],
        qeFrom <span class="fu">=</span> [], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
        qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}]</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> <span class="dv">1</span>;</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell">[<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>)],
        qeFrom <span class="fu">=</span> [], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
        qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}]</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> <span class="dv">1</span>;<span class="kw">select</span> <span class="dv">1</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell">[<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>)],
        qeFrom <span class="fu">=</span> [], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
        qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>},
 <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>)],
        qeFrom <span class="fu">=</span> [], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
        qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}]</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">select</span> <span class="dv">1</span>;<span class="kw">select</span> <span class="dv">1</span>;</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell">[<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>)],
        qeFrom <span class="fu">=</span> [], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
        qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>},
 <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>)],
        qeFrom <span class="fu">=</span> [], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
        qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}]</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql"> <span class="kw">select</span> <span class="dv">1</span>;<span class="kw">select</span> <span class="dv">1</span>; </code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell">[<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>)],
        qeFrom <span class="fu">=</span> [], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
        qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>},
 <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>)],
        qeFrom <span class="fu">=</span> [], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
        qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}]</code></pre>
</td></tr>
</table>
<h2 id="parse-tpch">parse tpch</h2>
<table>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
<span class="kw">select</span>
        l_returnflag,
        l_linestatus,
        <span class="fu">sum</span>(l_quantity) <span class="kw">as</span> sum_qty,
        <span class="fu">sum</span>(l_extendedprice) <span class="kw">as</span> sum_base_price,
        <span class="fu">sum</span>(l_extendedprice * (<span class="dv">1</span> - l_discount)) <span class="kw">as</span> sum_disc_price,
        <span class="fu">sum</span>(l_extendedprice * (<span class="dv">1</span> - l_discount) * (<span class="dv">1</span> + l_tax)) <span class="kw">as</span> sum_charge,
        <span class="fu">avg</span>(l_quantity) <span class="kw">as</span> avg_qty,
        <span class="fu">avg</span>(l_extendedprice) <span class="kw">as</span> avg_price,
        <span class="fu">avg</span>(l_discount) <span class="kw">as</span> avg_disc,
        <span class="fu">count</span>(*) <span class="kw">as</span> count_order
<span class="kw">from</span>
        lineitem
<span class="kw">where</span>
        l_shipdate &lt;= <span class="dt">date</span> <span class="st">&#39;1998-12-01&#39;</span> - <span class="dt">interval</span> <span class="st">&#39;63&#39;</span> <span class="dt">day</span> (<span class="dv">3</span>)
<span class="kw">group</span> <span class="kw">by</span>
        l_returnflag,
        l_linestatus
<span class="kw">order</span> <span class="kw">by</span>
        l_returnflag,
        l_linestatus</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;l_returnflag&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;l_linestatus&quot;</span>),
             (<span class="kw">Just</span> <span class="st">&quot;sum_qty&quot;</span>, <span class="dt">App</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;l_quantity&quot;</span>]),
             (<span class="kw">Just</span> <span class="st">&quot;sum_base_price&quot;</span>, <span class="dt">App</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;l_extendedprice&quot;</span>]),
             (<span class="kw">Just</span> <span class="st">&quot;sum_disc_price&quot;</span>,
              <span class="dt">App</span> <span class="st">&quot;sum&quot;</span>
                [<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_extendedprice&quot;</span>) <span class="st">&quot;*&quot;</span>
                   (<span class="dt">Parens</span> (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>) <span class="st">&quot;-&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_discount&quot;</span>)))]),
             (<span class="kw">Just</span> <span class="st">&quot;sum_charge&quot;</span>,
              <span class="dt">App</span> <span class="st">&quot;sum&quot;</span>
                [<span class="dt">BinOp</span>
                   (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_extendedprice&quot;</span>) <span class="st">&quot;*&quot;</span>
                      (<span class="dt">Parens</span> (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>) <span class="st">&quot;-&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_discount&quot;</span>))))
                   <span class="st">&quot;*&quot;</span>
                   (<span class="dt">Parens</span> (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>) <span class="st">&quot;+&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_tax&quot;</span>)))]),
             (<span class="kw">Just</span> <span class="st">&quot;avg_qty&quot;</span>, <span class="dt">App</span> <span class="st">&quot;avg&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;l_quantity&quot;</span>]),
             (<span class="kw">Just</span> <span class="st">&quot;avg_price&quot;</span>, <span class="dt">App</span> <span class="st">&quot;avg&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;l_extendedprice&quot;</span>]),
             (<span class="kw">Just</span> <span class="st">&quot;avg_disc&quot;</span>, <span class="dt">App</span> <span class="st">&quot;avg&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;l_discount&quot;</span>]),
             (<span class="kw">Just</span> <span class="st">&quot;count_order&quot;</span>, <span class="dt">App</span> <span class="st">&quot;count&quot;</span> [<span class="dt">Star</span>])],
          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>],
          qeWhere <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_shipdate&quot;</span>) <span class="st">&quot;&lt;=&quot;</span>
                 (<span class="dt">BinOp</span> (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1998-12-01&quot;</span>) <span class="st">&quot;-&quot;</span>
                    (<span class="dt">IntervalLit</span> <span class="st">&quot;63&quot;</span> <span class="st">&quot;day&quot;</span> (<span class="kw">Just</span> <span class="dv">3</span>)))),
          qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;l_returnflag&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;l_linestatus&quot;</span>],
          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOrderBy <span class="fu">=</span>
            [(<span class="dt">Iden</span> <span class="st">&quot;l_returnflag&quot;</span>, <span class="dt">Asc</span>), (<span class="dt">Iden</span> <span class="st">&quot;l_linestatus&quot;</span>, <span class="dt">Asc</span>)],
          qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
<span class="kw">select</span>
        s_acctbal,
        s_name,
        n_name,
        p_partkey,
        p_mfgr,
        s_address,
        s_phone,
        s_comment
<span class="kw">from</span>
        part,
        supplier,
        partsupp,
        nation,
        region
<span class="kw">where</span>
        p_partkey = ps_partkey
        <span class="kw">and</span> s_suppkey = ps_suppkey
        <span class="kw">and</span> p_size = <span class="dv">15</span>
        <span class="kw">and</span> p_type <span class="kw">like</span> <span class="st">&#39;%BRASS&#39;</span>
        <span class="kw">and</span> s_nationkey = n_nationkey
        <span class="kw">and</span> n_regionkey = r_regionkey
        <span class="kw">and</span> r_name = <span class="st">&#39;EUROPE&#39;</span>
        <span class="kw">and</span> ps_supplycost = (
                <span class="kw">select</span>
                        <span class="fu">min</span>(ps_supplycost)
                <span class="kw">from</span>
                        partsupp,
                        supplier,
                        nation,
                        region
                <span class="kw">where</span>
                        p_partkey = ps_partkey
                        <span class="kw">and</span> s_suppkey = ps_suppkey
                        <span class="kw">and</span> s_nationkey = n_nationkey
                        <span class="kw">and</span> n_regionkey = r_regionkey
                        <span class="kw">and</span> r_name = <span class="st">&#39;EUROPE&#39;</span>
        )
<span class="kw">order</span> <span class="kw">by</span>
        s_acctbal <span class="kw">desc</span>,
        n_name,
        s_name,
        p_partkey
<span class="kw">limit</span> <span class="dv">100</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;s_acctbal&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;s_name&quot;</span>),
             (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;n_name&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;p_partkey&quot;</span>),
             (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;p_mfgr&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;s_address&quot;</span>),
             (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;s_phone&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;s_comment&quot;</span>)],
          qeFrom <span class="fu">=</span>
            [<span class="dt">TRSimple</span> <span class="st">&quot;part&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;supplier&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;partsupp&quot;</span>,
             <span class="dt">TRSimple</span> <span class="st">&quot;nation&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;region&quot;</span>],
          qeWhere <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">BinOp</span>
                 (<span class="dt">BinOp</span>
                    (<span class="dt">BinOp</span>
                       (<span class="dt">BinOp</span>
                          (<span class="dt">BinOp</span>
                             (<span class="dt">BinOp</span>
                                (<span class="dt">BinOp</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_partkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_partkey&quot;</span>)) <span class="st">&quot;and&quot;</span>
                                   (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_suppkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_suppkey&quot;</span>)))
                                <span class="st">&quot;and&quot;</span>
                                (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_size&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;15&quot;</span>)))
                             <span class="st">&quot;and&quot;</span>
                             (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_type&quot;</span>) <span class="st">&quot;like&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;%BRASS&quot;</span>)))
                          <span class="st">&quot;and&quot;</span>
                          (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_nationkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;n_nationkey&quot;</span>)))
                       <span class="st">&quot;and&quot;</span>
                       (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;n_regionkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;r_regionkey&quot;</span>)))
                    <span class="st">&quot;and&quot;</span>
                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;r_name&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;EUROPE&quot;</span>)))
                 <span class="st">&quot;and&quot;</span>
                 (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_supplycost&quot;</span>) <span class="st">&quot;=&quot;</span>
                    (<span class="dt">SubQueryExpr</span> <span class="dt">SqSq</span>
                       (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                               qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">App</span> <span class="st">&quot;min&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;ps_supplycost&quot;</span>])],
                               qeFrom <span class="fu">=</span>
                                 [<span class="dt">TRSimple</span> <span class="st">&quot;partsupp&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;supplier&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;nation&quot;</span>,
                                  <span class="dt">TRSimple</span> <span class="st">&quot;region&quot;</span>],
                               qeWhere <span class="fu">=</span>
                                 <span class="kw">Just</span>
                                   (<span class="dt">BinOp</span>
                                      (<span class="dt">BinOp</span>
                                         (<span class="dt">BinOp</span>
                                            (<span class="dt">BinOp</span>
                                               (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_partkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_partkey&quot;</span>))
                                               <span class="st">&quot;and&quot;</span>
                                               (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_suppkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_suppkey&quot;</span>)))
                                            <span class="st">&quot;and&quot;</span>
                                            (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_nationkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;n_nationkey&quot;</span>)))
                                         <span class="st">&quot;and&quot;</span>
                                         (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;n_regionkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;r_regionkey&quot;</span>)))
                                      <span class="st">&quot;and&quot;</span>
                                      (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;r_name&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;EUROPE&quot;</span>))),
                               qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
                               qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})))),
          qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOrderBy <span class="fu">=</span>
            [(<span class="dt">Iden</span> <span class="st">&quot;s_acctbal&quot;</span>, <span class="dt">Desc</span>), (<span class="dt">Iden</span> <span class="st">&quot;n_name&quot;</span>, <span class="dt">Asc</span>),
             (<span class="dt">Iden</span> <span class="st">&quot;s_name&quot;</span>, <span class="dt">Asc</span>), (<span class="dt">Iden</span> <span class="st">&quot;p_partkey&quot;</span>, <span class="dt">Asc</span>)],
          qeLimit <span class="fu">=</span> <span class="kw">Just</span> (<span class="dt">NumLit</span> <span class="st">&quot;100&quot;</span>), qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         l_orderkey,
         <span class="fu">sum</span>(l_extendedprice * (<span class="dv">1</span> - l_discount)) <span class="kw">as</span> revenue,
         o_orderdate,
         o_shippriority
 <span class="kw">from</span>
         customer,
         orders,
         lineitem
 <span class="kw">where</span>
         c_mktsegment = <span class="st">&#39;MACHINERY&#39;</span>
         <span class="kw">and</span> c_custkey = o_custkey
         <span class="kw">and</span> l_orderkey = o_orderkey
         <span class="kw">and</span> o_orderdate &lt; <span class="dt">date</span> <span class="st">&#39;1995-03-21&#39;</span>
         <span class="kw">and</span> l_shipdate &gt; <span class="dt">date</span> <span class="st">&#39;1995-03-21&#39;</span>
 <span class="kw">group</span> <span class="kw">by</span>
         l_orderkey,
         o_orderdate,
         o_shippriority
 <span class="kw">order</span> <span class="kw">by</span>
         revenue <span class="kw">desc</span>,
         o_orderdate
 <span class="kw">limit</span> <span class="dv">10</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;l_orderkey&quot;</span>),
             (<span class="kw">Just</span> <span class="st">&quot;revenue&quot;</span>,
              <span class="dt">App</span> <span class="st">&quot;sum&quot;</span>
                [<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_extendedprice&quot;</span>) <span class="st">&quot;*&quot;</span>
                   (<span class="dt">Parens</span> (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>) <span class="st">&quot;-&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_discount&quot;</span>)))]),
             (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;o_orderdate&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;o_shippriority&quot;</span>)],
          qeFrom <span class="fu">=</span>
            [<span class="dt">TRSimple</span> <span class="st">&quot;customer&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;orders&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>],
          qeWhere <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">BinOp</span>
                 (<span class="dt">BinOp</span>
                    (<span class="dt">BinOp</span>
                       (<span class="dt">BinOp</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;c_mktsegment&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;MACHINERY&quot;</span>))
                          <span class="st">&quot;and&quot;</span>
                          (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;c_custkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;o_custkey&quot;</span>)))
                       <span class="st">&quot;and&quot;</span>
                       (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_orderkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderkey&quot;</span>)))
                    <span class="st">&quot;and&quot;</span>
                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderdate&quot;</span>) <span class="st">&quot;&lt;&quot;</span>
                       (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1995-03-21&quot;</span>)))
                 <span class="st">&quot;and&quot;</span>
                 (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_shipdate&quot;</span>) <span class="st">&quot;&gt;&quot;</span>
                    (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1995-03-21&quot;</span>))),
          qeGroupBy <span class="fu">=</span>
            [<span class="dt">Iden</span> <span class="st">&quot;l_orderkey&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;o_orderdate&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;o_shippriority&quot;</span>],
          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;revenue&quot;</span>, <span class="dt">Desc</span>), (<span class="dt">Iden</span> <span class="st">&quot;o_orderdate&quot;</span>, <span class="dt">Asc</span>)],
          qeLimit <span class="fu">=</span> <span class="kw">Just</span> (<span class="dt">NumLit</span> <span class="st">&quot;10&quot;</span>), qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         o_orderpriority,
         <span class="fu">count</span>(*) <span class="kw">as</span> order_count
 <span class="kw">from</span>
         orders
 <span class="kw">where</span>
         o_orderdate &gt;= <span class="dt">date</span> <span class="st">&#39;1996-03-01&#39;</span>
         <span class="kw">and</span> o_orderdate &lt; <span class="dt">date</span> <span class="st">&#39;1996-03-01&#39;</span> + <span class="dt">interval</span> <span class="st">&#39;3&#39;</span> <span class="dt">month</span>
         <span class="kw">and</span> <span class="kw">exists</span> (
                 <span class="kw">select</span>
                         *
                 <span class="kw">from</span>
                         lineitem
                 <span class="kw">where</span>
                         l_orderkey = o_orderkey
                         <span class="kw">and</span> l_commitdate &lt; l_receiptdate
         )
 <span class="kw">group</span> <span class="kw">by</span>
         o_orderpriority
 <span class="kw">order</span> <span class="kw">by</span>
         o_orderpriority</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;o_orderpriority&quot;</span>),
             (<span class="kw">Just</span> <span class="st">&quot;order_count&quot;</span>, <span class="dt">App</span> <span class="st">&quot;count&quot;</span> [<span class="dt">Star</span>])],
          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;orders&quot;</span>],
          qeWhere <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">BinOp</span>
                 (<span class="dt">BinOp</span>
                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderdate&quot;</span>) <span class="st">&quot;&gt;=&quot;</span>
                       (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1996-03-01&quot;</span>))
                    <span class="st">&quot;and&quot;</span>
                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderdate&quot;</span>) <span class="st">&quot;&lt;&quot;</span>
                       (<span class="dt">BinOp</span> (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1996-03-01&quot;</span>) <span class="st">&quot;+&quot;</span>
                          (<span class="dt">IntervalLit</span> <span class="st">&quot;3&quot;</span> <span class="st">&quot;month&quot;</span> <span class="kw">Nothing</span>))))
                 <span class="st">&quot;and&quot;</span>
                 (<span class="dt">SubQueryExpr</span> <span class="dt">SqExists</span>
                    (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Star</span>)],
                            qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>],
                            qeWhere <span class="fu">=</span>
                              <span class="kw">Just</span>
                                (<span class="dt">BinOp</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_orderkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderkey&quot;</span>)) <span class="st">&quot;and&quot;</span>
                                   (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_commitdate&quot;</span>) <span class="st">&quot;&lt;&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_receiptdate&quot;</span>))),
                            qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
                            qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}))),
          qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;o_orderpriority&quot;</span>], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;o_orderpriority&quot;</span>, <span class="dt">Asc</span>)], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         n_name,
         <span class="fu">sum</span>(l_extendedprice * (<span class="dv">1</span> - l_discount)) <span class="kw">as</span> revenue
 <span class="kw">from</span>
         customer,
         orders,
         lineitem,
         supplier,
         nation,
         region
 <span class="kw">where</span>
         c_custkey = o_custkey
         <span class="kw">and</span> l_orderkey = o_orderkey
         <span class="kw">and</span> l_suppkey = s_suppkey
         <span class="kw">and</span> c_nationkey = s_nationkey
         <span class="kw">and</span> s_nationkey = n_nationkey
         <span class="kw">and</span> n_regionkey = r_regionkey
         <span class="kw">and</span> r_name = <span class="st">&#39;EUROPE&#39;</span>
         <span class="kw">and</span> o_orderdate &gt;= <span class="dt">date</span> <span class="st">&#39;1997-01-01&#39;</span>
         <span class="kw">and</span> o_orderdate &lt; <span class="dt">date</span> <span class="st">&#39;1997-01-01&#39;</span> + <span class="dt">interval</span> <span class="st">&#39;1&#39;</span> <span class="dt">year</span>
 <span class="kw">group</span> <span class="kw">by</span>
         n_name
 <span class="kw">order</span> <span class="kw">by</span>
         revenue <span class="kw">desc</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;n_name&quot;</span>),
             (<span class="kw">Just</span> <span class="st">&quot;revenue&quot;</span>,
              <span class="dt">App</span> <span class="st">&quot;sum&quot;</span>
                [<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_extendedprice&quot;</span>) <span class="st">&quot;*&quot;</span>
                   (<span class="dt">Parens</span> (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>) <span class="st">&quot;-&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_discount&quot;</span>)))])],
          qeFrom <span class="fu">=</span>
            [<span class="dt">TRSimple</span> <span class="st">&quot;customer&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;orders&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>,
             <span class="dt">TRSimple</span> <span class="st">&quot;supplier&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;nation&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;region&quot;</span>],
          qeWhere <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">BinOp</span>
                 (<span class="dt">BinOp</span>
                    (<span class="dt">BinOp</span>
                       (<span class="dt">BinOp</span>
                          (<span class="dt">BinOp</span>
                             (<span class="dt">BinOp</span>
                                (<span class="dt">BinOp</span>
                                   (<span class="dt">BinOp</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;c_custkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;o_custkey&quot;</span>)) <span class="st">&quot;and&quot;</span>
                                      (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_orderkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderkey&quot;</span>)))
                                   <span class="st">&quot;and&quot;</span>
                                   (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_suppkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;s_suppkey&quot;</span>)))
                                <span class="st">&quot;and&quot;</span>
                                (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;c_nationkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;s_nationkey&quot;</span>)))
                             <span class="st">&quot;and&quot;</span>
                             (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_nationkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;n_nationkey&quot;</span>)))
                          <span class="st">&quot;and&quot;</span>
                          (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;n_regionkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;r_regionkey&quot;</span>)))
                       <span class="st">&quot;and&quot;</span>
                       (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;r_name&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;EUROPE&quot;</span>)))
                    <span class="st">&quot;and&quot;</span>
                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderdate&quot;</span>) <span class="st">&quot;&gt;=&quot;</span>
                       (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1997-01-01&quot;</span>)))
                 <span class="st">&quot;and&quot;</span>
                 (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderdate&quot;</span>) <span class="st">&quot;&lt;&quot;</span>
                    (<span class="dt">BinOp</span> (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1997-01-01&quot;</span>) <span class="st">&quot;+&quot;</span>
                       (<span class="dt">IntervalLit</span> <span class="st">&quot;1&quot;</span> <span class="st">&quot;year&quot;</span> <span class="kw">Nothing</span>)))),
          qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;n_name&quot;</span>], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;revenue&quot;</span>, <span class="dt">Desc</span>)], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         <span class="fu">sum</span>(l_extendedprice * l_discount) <span class="kw">as</span> revenue
 <span class="kw">from</span>
         lineitem
 <span class="kw">where</span>
         l_shipdate &gt;= <span class="dt">date</span> <span class="st">&#39;1997-01-01&#39;</span>
         <span class="kw">and</span> l_shipdate &lt; <span class="dt">date</span> <span class="st">&#39;1997-01-01&#39;</span> + <span class="dt">interval</span> <span class="st">&#39;1&#39;</span> <span class="dt">year</span>
         <span class="kw">and</span> l_discount <span class="kw">between</span> <span class="fl">0.07</span> - <span class="fl">0.01</span> <span class="kw">and</span> <span class="fl">0.07</span> + <span class="fl">0.01</span>
         <span class="kw">and</span> l_quantity &lt; <span class="dv">24</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Just</span> <span class="st">&quot;revenue&quot;</span>,
              <span class="dt">App</span> <span class="st">&quot;sum&quot;</span>
                [<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_extendedprice&quot;</span>) <span class="st">&quot;*&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_discount&quot;</span>)])],
          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>],
          qeWhere <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">BinOp</span>
                 (<span class="dt">SpecialOp</span> <span class="st">&quot;between&quot;</span>
                    [<span class="dt">BinOp</span>
                       (<span class="dt">BinOp</span>
                          (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_shipdate&quot;</span>) <span class="st">&quot;&gt;=&quot;</span>
                             (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1997-01-01&quot;</span>))
                          <span class="st">&quot;and&quot;</span>
                          (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_shipdate&quot;</span>) <span class="st">&quot;&lt;&quot;</span>
                             (<span class="dt">BinOp</span> (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1997-01-01&quot;</span>) <span class="st">&quot;+&quot;</span>
                                (<span class="dt">IntervalLit</span> <span class="st">&quot;1&quot;</span> <span class="st">&quot;year&quot;</span> <span class="kw">Nothing</span>))))
                       <span class="st">&quot;and&quot;</span>
                       (<span class="dt">Iden</span> <span class="st">&quot;l_discount&quot;</span>),
                     <span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;0.07&quot;</span>) <span class="st">&quot;-&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;0.01&quot;</span>),
                     <span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;0.07&quot;</span>) <span class="st">&quot;+&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;0.01&quot;</span>)])
                 <span class="st">&quot;and&quot;</span>
                 (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_quantity&quot;</span>) <span class="st">&quot;&lt;&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;24&quot;</span>))),
          qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
          qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         supp_nation,
         cust_nation,
         l_year,
         <span class="fu">sum</span>(volume) <span class="kw">as</span> revenue
 <span class="kw">from</span>
         (
                 <span class="kw">select</span>
                         n1.n_name <span class="kw">as</span> supp_nation,
                         n2.n_name <span class="kw">as</span> cust_nation,
                         <span class="fu">extract</span>(<span class="dt">year</span> <span class="kw">from</span> l_shipdate) <span class="kw">as</span> l_year,
                         l_extendedprice * (<span class="dv">1</span> - l_discount) <span class="kw">as</span> volume
                 <span class="kw">from</span>
                         supplier,
                         lineitem,
                         orders,
                         customer,
                         nation n1,
                         nation n2
                 <span class="kw">where</span>
                         s_suppkey = l_suppkey
                         <span class="kw">and</span> o_orderkey = l_orderkey
                         <span class="kw">and</span> c_custkey = o_custkey
                         <span class="kw">and</span> s_nationkey = n1.n_nationkey
                         <span class="kw">and</span> c_nationkey = n2.n_nationkey
                         <span class="kw">and</span> (
                                 (n1.n_name = <span class="st">&#39;PERU&#39;</span> <span class="kw">and</span> n2.n_name = <span class="st">&#39;IRAQ&#39;</span>)
                                 <span class="kw">or</span> (n1.n_name = <span class="st">&#39;IRAQ&#39;</span> <span class="kw">and</span> n2.n_name = <span class="st">&#39;PERU&#39;</span>)
                         )
                         <span class="kw">and</span> l_shipdate <span class="kw">between</span> <span class="dt">date</span> <span class="st">&#39;1995-01-01&#39;</span> <span class="kw">and</span> <span class="dt">date</span> <span class="st">&#39;1996-12-31&#39;</span>
         ) <span class="kw">as</span> shipping
 <span class="kw">group</span> <span class="kw">by</span>
         supp_nation,
         cust_nation,
         l_year
 <span class="kw">order</span> <span class="kw">by</span>
         supp_nation,
         cust_nation,
         l_year</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;supp_nation&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;cust_nation&quot;</span>),
             (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;l_year&quot;</span>),
             (<span class="kw">Just</span> <span class="st">&quot;revenue&quot;</span>, <span class="dt">App</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;volume&quot;</span>])],
          qeFrom <span class="fu">=</span>
            [<span class="dt">TRAlias</span>
               (<span class="dt">TRQueryExpr</span>
                  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                          qeSelectList <span class="fu">=</span>
                            [(<span class="kw">Just</span> <span class="st">&quot;supp_nation&quot;</span>, <span class="dt">Iden2</span> <span class="st">&quot;n1&quot;</span> <span class="st">&quot;n_name&quot;</span>),
                             (<span class="kw">Just</span> <span class="st">&quot;cust_nation&quot;</span>, <span class="dt">Iden2</span> <span class="st">&quot;n2&quot;</span> <span class="st">&quot;n_name&quot;</span>),
                             (<span class="kw">Just</span> <span class="st">&quot;l_year&quot;</span>,
                              <span class="dt">SpecialOp</span> <span class="st">&quot;extract&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;year&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;l_shipdate&quot;</span>]),
                             (<span class="kw">Just</span> <span class="st">&quot;volume&quot;</span>,
                              <span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_extendedprice&quot;</span>) <span class="st">&quot;*&quot;</span>
                                (<span class="dt">Parens</span> (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>) <span class="st">&quot;-&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_discount&quot;</span>))))],
                          qeFrom <span class="fu">=</span>
                            [<span class="dt">TRSimple</span> <span class="st">&quot;supplier&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;orders&quot;</span>,
                             <span class="dt">TRSimple</span> <span class="st">&quot;customer&quot;</span>, <span class="dt">TRAlias</span> (<span class="dt">TRSimple</span> <span class="st">&quot;nation&quot;</span>) <span class="st">&quot;n1&quot;</span> <span class="kw">Nothing</span>,
                             <span class="dt">TRAlias</span> (<span class="dt">TRSimple</span> <span class="st">&quot;nation&quot;</span>) <span class="st">&quot;n2&quot;</span> <span class="kw">Nothing</span>],
                          qeWhere <span class="fu">=</span>
                            <span class="kw">Just</span>
                              (<span class="dt">SpecialOp</span> <span class="st">&quot;between&quot;</span>
                                 [<span class="dt">BinOp</span>
                                    (<span class="dt">BinOp</span>
                                       (<span class="dt">BinOp</span>
                                          (<span class="dt">BinOp</span>
                                             (<span class="dt">BinOp</span>
                                                (<span class="dt">BinOp</span>
                                                   (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_suppkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_suppkey&quot;</span>))
                                                   <span class="st">&quot;and&quot;</span>
                                                   (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                      (<span class="dt">Iden</span> <span class="st">&quot;l_orderkey&quot;</span>)))
                                                <span class="st">&quot;and&quot;</span>
                                                (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;c_custkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;o_custkey&quot;</span>)))
                                             <span class="st">&quot;and&quot;</span>
                                             (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_nationkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                (<span class="dt">Iden2</span> <span class="st">&quot;n1&quot;</span> <span class="st">&quot;n_nationkey&quot;</span>)))
                                          <span class="st">&quot;and&quot;</span>
                                          (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;c_nationkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                             (<span class="dt">Iden2</span> <span class="st">&quot;n2&quot;</span> <span class="st">&quot;n_nationkey&quot;</span>)))
                                       <span class="st">&quot;and&quot;</span>
                                       (<span class="dt">Parens</span>
                                          (<span class="dt">BinOp</span>
                                             (<span class="dt">Parens</span>
                                                (<span class="dt">BinOp</span>
                                                   (<span class="dt">BinOp</span> (<span class="dt">Iden2</span> <span class="st">&quot;n1&quot;</span> <span class="st">&quot;n_name&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                      (<span class="dt">StringLit</span> <span class="st">&quot;PERU&quot;</span>))
                                                   <span class="st">&quot;and&quot;</span>
                                                   (<span class="dt">BinOp</span> (<span class="dt">Iden2</span> <span class="st">&quot;n2&quot;</span> <span class="st">&quot;n_name&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                      (<span class="dt">StringLit</span> <span class="st">&quot;IRAQ&quot;</span>))))
                                             <span class="st">&quot;or&quot;</span>
                                             (<span class="dt">Parens</span>
                                                (<span class="dt">BinOp</span>
                                                   (<span class="dt">BinOp</span> (<span class="dt">Iden2</span> <span class="st">&quot;n1&quot;</span> <span class="st">&quot;n_name&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                      (<span class="dt">StringLit</span> <span class="st">&quot;IRAQ&quot;</span>))
                                                   <span class="st">&quot;and&quot;</span>
                                                   (<span class="dt">BinOp</span> (<span class="dt">Iden2</span> <span class="st">&quot;n2&quot;</span> <span class="st">&quot;n_name&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                      (<span class="dt">StringLit</span> <span class="st">&quot;PERU&quot;</span>)))))))
                                    <span class="st">&quot;and&quot;</span>
                                    (<span class="dt">Iden</span> <span class="st">&quot;l_shipdate&quot;</span>),
                                  <span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1995-01-01&quot;</span>,
                                  <span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1996-12-31&quot;</span>]),
                          qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
                          qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}))
               <span class="st">&quot;shipping&quot;</span>
               <span class="kw">Nothing</span>],
          qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeGroupBy <span class="fu">=</span>
            [<span class="dt">Iden</span> <span class="st">&quot;supp_nation&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;cust_nation&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;l_year&quot;</span>],
          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOrderBy <span class="fu">=</span>
            [(<span class="dt">Iden</span> <span class="st">&quot;supp_nation&quot;</span>, <span class="dt">Asc</span>), (<span class="dt">Iden</span> <span class="st">&quot;cust_nation&quot;</span>, <span class="dt">Asc</span>),
             (<span class="dt">Iden</span> <span class="st">&quot;l_year&quot;</span>, <span class="dt">Asc</span>)],
          qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         o_year,
         <span class="fu">sum</span>(<span class="kw">case</span>
                 <span class="kw">when</span> nation = <span class="st">&#39;IRAQ&#39;</span> <span class="kw">then</span> volume
                 <span class="kw">else</span> <span class="dv">0</span>
         <span class="kw">end</span>) / <span class="fu">sum</span>(volume) <span class="kw">as</span> mkt_share
 <span class="kw">from</span>
         (
                 <span class="kw">select</span>
                         <span class="fu">extract</span>(<span class="dt">year</span> <span class="kw">from</span> o_orderdate) <span class="kw">as</span> o_year,
                         l_extendedprice * (<span class="dv">1</span> - l_discount) <span class="kw">as</span> volume,
                         n2.n_name <span class="kw">as</span> nation
                 <span class="kw">from</span>
                         part,
                         supplier,
                         lineitem,
                         orders,
                         customer,
                         nation n1,
                         nation n2,
                         region
                 <span class="kw">where</span>
                         p_partkey = l_partkey
                         <span class="kw">and</span> s_suppkey = l_suppkey
                         <span class="kw">and</span> l_orderkey = o_orderkey
                         <span class="kw">and</span> o_custkey = c_custkey
                         <span class="kw">and</span> c_nationkey = n1.n_nationkey
                         <span class="kw">and</span> n1.n_regionkey = r_regionkey
                         <span class="kw">and</span> r_name = <span class="st">&#39;MIDDLE EAST&#39;</span>
                         <span class="kw">and</span> s_nationkey = n2.n_nationkey
                         <span class="kw">and</span> o_orderdate <span class="kw">between</span> <span class="dt">date</span> <span class="st">&#39;1995-01-01&#39;</span> <span class="kw">and</span> <span class="dt">date</span> <span class="st">&#39;1996-12-31&#39;</span>
                         <span class="kw">and</span> p_type = <span class="st">&#39;STANDARD ANODIZED BRASS&#39;</span>
         ) <span class="kw">as</span> all_nations
 <span class="kw">group</span> <span class="kw">by</span>
         o_year
 <span class="kw">order</span> <span class="kw">by</span>
         o_year</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;o_year&quot;</span>),
             (<span class="kw">Just</span> <span class="st">&quot;mkt_share&quot;</span>,
              <span class="dt">BinOp</span>
                (<span class="dt">App</span> <span class="st">&quot;sum&quot;</span>
                   [<span class="dt">Case</span> <span class="kw">Nothing</span>
                      [(<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;nation&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;IRAQ&quot;</span>), <span class="dt">Iden</span> <span class="st">&quot;volume&quot;</span>)]
                      (<span class="kw">Just</span> (<span class="dt">NumLit</span> <span class="st">&quot;0&quot;</span>))])
                <span class="st">&quot;/&quot;</span>
                (<span class="dt">App</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;volume&quot;</span>]))],
          qeFrom <span class="fu">=</span>
            [<span class="dt">TRAlias</span>
               (<span class="dt">TRQueryExpr</span>
                  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                          qeSelectList <span class="fu">=</span>
                            [(<span class="kw">Just</span> <span class="st">&quot;o_year&quot;</span>,
                              <span class="dt">SpecialOp</span> <span class="st">&quot;extract&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;year&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;o_orderdate&quot;</span>]),
                             (<span class="kw">Just</span> <span class="st">&quot;volume&quot;</span>,
                              <span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_extendedprice&quot;</span>) <span class="st">&quot;*&quot;</span>
                                (<span class="dt">Parens</span> (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>) <span class="st">&quot;-&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_discount&quot;</span>)))),
                             (<span class="kw">Just</span> <span class="st">&quot;nation&quot;</span>, <span class="dt">Iden2</span> <span class="st">&quot;n2&quot;</span> <span class="st">&quot;n_name&quot;</span>)],
                          qeFrom <span class="fu">=</span>
                            [<span class="dt">TRSimple</span> <span class="st">&quot;part&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;supplier&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>,
                             <span class="dt">TRSimple</span> <span class="st">&quot;orders&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;customer&quot;</span>,
                             <span class="dt">TRAlias</span> (<span class="dt">TRSimple</span> <span class="st">&quot;nation&quot;</span>) <span class="st">&quot;n1&quot;</span> <span class="kw">Nothing</span>,
                             <span class="dt">TRAlias</span> (<span class="dt">TRSimple</span> <span class="st">&quot;nation&quot;</span>) <span class="st">&quot;n2&quot;</span> <span class="kw">Nothing</span>, <span class="dt">TRSimple</span> <span class="st">&quot;region&quot;</span>],
                          qeWhere <span class="fu">=</span>
                            <span class="kw">Just</span>
                              (<span class="dt">BinOp</span>
                                 (<span class="dt">SpecialOp</span> <span class="st">&quot;between&quot;</span>
                                    [<span class="dt">BinOp</span>
                                       (<span class="dt">BinOp</span>
                                          (<span class="dt">BinOp</span>
                                             (<span class="dt">BinOp</span>
                                                (<span class="dt">BinOp</span>
                                                   (<span class="dt">BinOp</span>
                                                      (<span class="dt">BinOp</span>
                                                         (<span class="dt">BinOp</span>
                                                            (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_partkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                               (<span class="dt">Iden</span> <span class="st">&quot;l_partkey&quot;</span>))
                                                            <span class="st">&quot;and&quot;</span>
                                                            (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_suppkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                               (<span class="dt">Iden</span> <span class="st">&quot;l_suppkey&quot;</span>)))
                                                         <span class="st">&quot;and&quot;</span>
                                                         (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_orderkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                            (<span class="dt">Iden</span> <span class="st">&quot;o_orderkey&quot;</span>)))
                                                      <span class="st">&quot;and&quot;</span>
                                                      (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_custkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                         (<span class="dt">Iden</span> <span class="st">&quot;c_custkey&quot;</span>)))
                                                   <span class="st">&quot;and&quot;</span>
                                                   (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;c_nationkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                      (<span class="dt">Iden2</span> <span class="st">&quot;n1&quot;</span> <span class="st">&quot;n_nationkey&quot;</span>)))
                                                <span class="st">&quot;and&quot;</span>
                                                (<span class="dt">BinOp</span> (<span class="dt">Iden2</span> <span class="st">&quot;n1&quot;</span> <span class="st">&quot;n_regionkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                   (<span class="dt">Iden</span> <span class="st">&quot;r_regionkey&quot;</span>)))
                                             <span class="st">&quot;and&quot;</span>
                                             (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;r_name&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;MIDDLE EAST&quot;</span>)))
                                          <span class="st">&quot;and&quot;</span>
                                          (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_nationkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                             (<span class="dt">Iden2</span> <span class="st">&quot;n2&quot;</span> <span class="st">&quot;n_nationkey&quot;</span>)))
                                       <span class="st">&quot;and&quot;</span>
                                       (<span class="dt">Iden</span> <span class="st">&quot;o_orderdate&quot;</span>),
                                     <span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1995-01-01&quot;</span>,
                                     <span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1996-12-31&quot;</span>])
                                 <span class="st">&quot;and&quot;</span>
                                 (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_type&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;STANDARD ANODIZED BRASS&quot;</span>))),
                          qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
                          qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}))
               <span class="st">&quot;all_nations&quot;</span>
               <span class="kw">Nothing</span>],
          qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;o_year&quot;</span>], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;o_year&quot;</span>, <span class="dt">Asc</span>)], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         nation,
         o_year,
         <span class="fu">sum</span>(amount) <span class="kw">as</span> sum_profit
 <span class="kw">from</span>
         (
                 <span class="kw">select</span>
                         n_name <span class="kw">as</span> nation,
                         <span class="fu">extract</span>(<span class="dt">year</span> <span class="kw">from</span> o_orderdate) <span class="kw">as</span> o_year,
                         l_extendedprice * (<span class="dv">1</span> - l_discount) - ps_supplycost * l_quantity <span class="kw">as</span> amount
                 <span class="kw">from</span>
                         part,
                         supplier,
                         lineitem,
                         partsupp,
                         orders,
                         nation
                 <span class="kw">where</span>
                         s_suppkey = l_suppkey
                         <span class="kw">and</span> ps_suppkey = l_suppkey
                         <span class="kw">and</span> ps_partkey = l_partkey
                         <span class="kw">and</span> p_partkey = l_partkey
                         <span class="kw">and</span> o_orderkey = l_orderkey
                         <span class="kw">and</span> s_nationkey = n_nationkey
                         <span class="kw">and</span> p_name <span class="kw">like</span> <span class="st">&#39;%antique%&#39;</span>
         ) <span class="kw">as</span> profit
 <span class="kw">group</span> <span class="kw">by</span>
         nation,
         o_year
 <span class="kw">order</span> <span class="kw">by</span>
         nation,
         o_year <span class="kw">desc</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;nation&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;o_year&quot;</span>),
             (<span class="kw">Just</span> <span class="st">&quot;sum_profit&quot;</span>, <span class="dt">App</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;amount&quot;</span>])],
          qeFrom <span class="fu">=</span>
            [<span class="dt">TRAlias</span>
               (<span class="dt">TRQueryExpr</span>
                  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                          qeSelectList <span class="fu">=</span>
                            [(<span class="kw">Just</span> <span class="st">&quot;nation&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;n_name&quot;</span>),
                             (<span class="kw">Just</span> <span class="st">&quot;o_year&quot;</span>,
                              <span class="dt">SpecialOp</span> <span class="st">&quot;extract&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;year&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;o_orderdate&quot;</span>]),
                             (<span class="kw">Just</span> <span class="st">&quot;amount&quot;</span>,
                              <span class="dt">BinOp</span>
                                (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_extendedprice&quot;</span>) <span class="st">&quot;*&quot;</span>
                                   (<span class="dt">Parens</span> (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>) <span class="st">&quot;-&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_discount&quot;</span>))))
                                <span class="st">&quot;-&quot;</span>
                                (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_supplycost&quot;</span>) <span class="st">&quot;*&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_quantity&quot;</span>)))],
                          qeFrom <span class="fu">=</span>
                            [<span class="dt">TRSimple</span> <span class="st">&quot;part&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;supplier&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>,
                             <span class="dt">TRSimple</span> <span class="st">&quot;partsupp&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;orders&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;nation&quot;</span>],
                          qeWhere <span class="fu">=</span>
                            <span class="kw">Just</span>
                              (<span class="dt">BinOp</span>
                                 (<span class="dt">BinOp</span>
                                    (<span class="dt">BinOp</span>
                                       (<span class="dt">BinOp</span>
                                          (<span class="dt">BinOp</span>
                                             (<span class="dt">BinOp</span>
                                                (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_suppkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_suppkey&quot;</span>))
                                                <span class="st">&quot;and&quot;</span>
                                                (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_suppkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_suppkey&quot;</span>)))
                                             <span class="st">&quot;and&quot;</span>
                                             (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_partkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_partkey&quot;</span>)))
                                          <span class="st">&quot;and&quot;</span>
                                          (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_partkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_partkey&quot;</span>)))
                                       <span class="st">&quot;and&quot;</span>
                                       (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_orderkey&quot;</span>)))
                                    <span class="st">&quot;and&quot;</span>
                                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_nationkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;n_nationkey&quot;</span>)))
                                 <span class="st">&quot;and&quot;</span>
                                 (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_name&quot;</span>) <span class="st">&quot;like&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;%antique%&quot;</span>))),
                          qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
                          qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}))
               <span class="st">&quot;profit&quot;</span>
               <span class="kw">Nothing</span>],
          qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;nation&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;o_year&quot;</span>],
          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;nation&quot;</span>, <span class="dt">Asc</span>), (<span class="dt">Iden</span> <span class="st">&quot;o_year&quot;</span>, <span class="dt">Desc</span>)],
          qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         c_custkey,
         c_name,
         <span class="fu">sum</span>(l_extendedprice * (<span class="dv">1</span> - l_discount)) <span class="kw">as</span> revenue,
         c_acctbal,
         n_name,
         c_address,
         c_phone,
         c_comment
 <span class="kw">from</span>
         customer,
         orders,
         lineitem,
         nation
 <span class="kw">where</span>
         c_custkey = o_custkey
         <span class="kw">and</span> l_orderkey = o_orderkey
         <span class="kw">and</span> o_orderdate &gt;= <span class="dt">date</span> <span class="st">&#39;1993-12-01&#39;</span>
         <span class="kw">and</span> o_orderdate &lt; <span class="dt">date</span> <span class="st">&#39;1993-12-01&#39;</span> + <span class="dt">interval</span> <span class="st">&#39;3&#39;</span> <span class="dt">month</span>
         <span class="kw">and</span> l_returnflag = <span class="st">&#39;R&#39;</span>
         <span class="kw">and</span> c_nationkey = n_nationkey
 <span class="kw">group</span> <span class="kw">by</span>
         c_custkey,
         c_name,
         c_acctbal,
         c_phone,
         n_name,
         c_address,
         c_comment
 <span class="kw">order</span> <span class="kw">by</span>
         revenue <span class="kw">desc</span>
 <span class="kw">limit</span> <span class="dv">20</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;c_custkey&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;c_name&quot;</span>),
             (<span class="kw">Just</span> <span class="st">&quot;revenue&quot;</span>,
              <span class="dt">App</span> <span class="st">&quot;sum&quot;</span>
                [<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_extendedprice&quot;</span>) <span class="st">&quot;*&quot;</span>
                   (<span class="dt">Parens</span> (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>) <span class="st">&quot;-&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_discount&quot;</span>)))]),
             (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;c_acctbal&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;n_name&quot;</span>),
             (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;c_address&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;c_phone&quot;</span>),
             (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;c_comment&quot;</span>)],
          qeFrom <span class="fu">=</span>
            [<span class="dt">TRSimple</span> <span class="st">&quot;customer&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;orders&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>,
             <span class="dt">TRSimple</span> <span class="st">&quot;nation&quot;</span>],
          qeWhere <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">BinOp</span>
                 (<span class="dt">BinOp</span>
                    (<span class="dt">BinOp</span>
                       (<span class="dt">BinOp</span>
                          (<span class="dt">BinOp</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;c_custkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;o_custkey&quot;</span>)) <span class="st">&quot;and&quot;</span>
                             (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_orderkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderkey&quot;</span>)))
                          <span class="st">&quot;and&quot;</span>
                          (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderdate&quot;</span>) <span class="st">&quot;&gt;=&quot;</span>
                             (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1993-12-01&quot;</span>)))
                       <span class="st">&quot;and&quot;</span>
                       (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderdate&quot;</span>) <span class="st">&quot;&lt;&quot;</span>
                          (<span class="dt">BinOp</span> (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1993-12-01&quot;</span>) <span class="st">&quot;+&quot;</span>
                             (<span class="dt">IntervalLit</span> <span class="st">&quot;3&quot;</span> <span class="st">&quot;month&quot;</span> <span class="kw">Nothing</span>))))
                    <span class="st">&quot;and&quot;</span>
                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_returnflag&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;R&quot;</span>)))
                 <span class="st">&quot;and&quot;</span>
                 (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;c_nationkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;n_nationkey&quot;</span>))),
          qeGroupBy <span class="fu">=</span>
            [<span class="dt">Iden</span> <span class="st">&quot;c_custkey&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;c_name&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;c_acctbal&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;c_phone&quot;</span>,
             <span class="dt">Iden</span> <span class="st">&quot;n_name&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;c_address&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;c_comment&quot;</span>],
          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;revenue&quot;</span>, <span class="dt">Desc</span>)],
          qeLimit <span class="fu">=</span> <span class="kw">Just</span> (<span class="dt">NumLit</span> <span class="st">&quot;20&quot;</span>), qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         ps_partkey,
         <span class="fu">sum</span>(ps_supplycost * ps_availqty) <span class="kw">as</span> <span class="fu">value</span>
 <span class="kw">from</span>
         partsupp,
         supplier,
         nation
 <span class="kw">where</span>
         ps_suppkey = s_suppkey
         <span class="kw">and</span> s_nationkey = n_nationkey
         <span class="kw">and</span> n_name = <span class="st">&#39;CHINA&#39;</span>
 <span class="kw">group</span> <span class="kw">by</span>
         ps_partkey <span class="kw">having</span>
                 <span class="fu">sum</span>(ps_supplycost * ps_availqty) &gt; (
                         <span class="kw">select</span>
                                 <span class="fu">sum</span>(ps_supplycost * ps_availqty) * <span class="fl">0.0001000000</span>
                         <span class="kw">from</span>
                                 partsupp,
                                 supplier,
                                 nation
                         <span class="kw">where</span>
                                 ps_suppkey = s_suppkey
                                 <span class="kw">and</span> s_nationkey = n_nationkey
                                 <span class="kw">and</span> n_name = <span class="st">&#39;CHINA&#39;</span>
                 )
 <span class="kw">order</span> <span class="kw">by</span>
         <span class="fu">value</span> <span class="kw">desc</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;ps_partkey&quot;</span>),
             (<span class="kw">Just</span> <span class="st">&quot;value&quot;</span>,
              <span class="dt">App</span> <span class="st">&quot;sum&quot;</span>
                [<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_supplycost&quot;</span>) <span class="st">&quot;*&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_availqty&quot;</span>)])],
          qeFrom <span class="fu">=</span>
            [<span class="dt">TRSimple</span> <span class="st">&quot;partsupp&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;supplier&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;nation&quot;</span>],
          qeWhere <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">BinOp</span>
                 (<span class="dt">BinOp</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_suppkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;s_suppkey&quot;</span>)) <span class="st">&quot;and&quot;</span>
                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_nationkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;n_nationkey&quot;</span>)))
                 <span class="st">&quot;and&quot;</span>
                 (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;n_name&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;CHINA&quot;</span>))),
          qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;ps_partkey&quot;</span>],
          qeHaving <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">BinOp</span>
                 (<span class="dt">App</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_supplycost&quot;</span>) <span class="st">&quot;*&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_availqty&quot;</span>)])
                 <span class="st">&quot;&gt;&quot;</span>
                 (<span class="dt">SubQueryExpr</span> <span class="dt">SqSq</span>
                    (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                            qeSelectList <span class="fu">=</span>
                              [(<span class="kw">Nothing</span>,
                                <span class="dt">BinOp</span>
                                  (<span class="dt">App</span> <span class="st">&quot;sum&quot;</span>
                                     [<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_supplycost&quot;</span>) <span class="st">&quot;*&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_availqty&quot;</span>)])
                                  <span class="st">&quot;*&quot;</span>
                                  (<span class="dt">NumLit</span> <span class="st">&quot;0.0001000000&quot;</span>))],
                            qeFrom <span class="fu">=</span>
                              [<span class="dt">TRSimple</span> <span class="st">&quot;partsupp&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;supplier&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;nation&quot;</span>],
                            qeWhere <span class="fu">=</span>
                              <span class="kw">Just</span>
                                (<span class="dt">BinOp</span>
                                   (<span class="dt">BinOp</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_suppkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;s_suppkey&quot;</span>)) <span class="st">&quot;and&quot;</span>
                                      (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_nationkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;n_nationkey&quot;</span>)))
                                   <span class="st">&quot;and&quot;</span>
                                   (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;n_name&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;CHINA&quot;</span>))),
                            qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
                            qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}))),
          qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;value&quot;</span>, <span class="dt">Desc</span>)], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         l_shipmode,
         <span class="fu">sum</span>(<span class="kw">case</span>
                 <span class="kw">when</span> o_orderpriority = <span class="st">&#39;1-URGENT&#39;</span>
                         <span class="kw">or</span> o_orderpriority = <span class="st">&#39;2-HIGH&#39;</span>
                         <span class="kw">then</span> <span class="dv">1</span>
                 <span class="kw">else</span> <span class="dv">0</span>
         <span class="kw">end</span>) <span class="kw">as</span> high_line_count,
         <span class="fu">sum</span>(<span class="kw">case</span>
                 <span class="kw">when</span> o_orderpriority &lt;&gt; <span class="st">&#39;1-URGENT&#39;</span>
                         <span class="kw">and</span> o_orderpriority &lt;&gt; <span class="st">&#39;2-HIGH&#39;</span>
                         <span class="kw">then</span> <span class="dv">1</span>
                 <span class="kw">else</span> <span class="dv">0</span>
         <span class="kw">end</span>) <span class="kw">as</span> low_line_count
 <span class="kw">from</span>
         orders,
         lineitem
 <span class="kw">where</span>
         o_orderkey = l_orderkey
         <span class="kw">and</span> l_shipmode <span class="kw">in</span> (<span class="st">&#39;AIR&#39;</span>, <span class="st">&#39;RAIL&#39;</span>)
         <span class="kw">and</span> l_commitdate &lt; l_receiptdate
         <span class="kw">and</span> l_shipdate &lt; l_commitdate
         <span class="kw">and</span> l_receiptdate &gt;= <span class="dt">date</span> <span class="st">&#39;1994-01-01&#39;</span>
         <span class="kw">and</span> l_receiptdate &lt; <span class="dt">date</span> <span class="st">&#39;1994-01-01&#39;</span> + <span class="dt">interval</span> <span class="st">&#39;1&#39;</span> <span class="dt">year</span>
 <span class="kw">group</span> <span class="kw">by</span>
         l_shipmode
 <span class="kw">order</span> <span class="kw">by</span>
         l_shipmode</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;l_shipmode&quot;</span>),
             (<span class="kw">Just</span> <span class="st">&quot;high_line_count&quot;</span>,
              <span class="dt">App</span> <span class="st">&quot;sum&quot;</span>
                [<span class="dt">Case</span> <span class="kw">Nothing</span>
                   [(<span class="dt">BinOp</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderpriority&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;1-URGENT&quot;</span>))
                       <span class="st">&quot;or&quot;</span>
                       (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderpriority&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;2-HIGH&quot;</span>)),
                     <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>)]
                   (<span class="kw">Just</span> (<span class="dt">NumLit</span> <span class="st">&quot;0&quot;</span>))]),
             (<span class="kw">Just</span> <span class="st">&quot;low_line_count&quot;</span>,
              <span class="dt">App</span> <span class="st">&quot;sum&quot;</span>
                [<span class="dt">Case</span> <span class="kw">Nothing</span>
                   [(<span class="dt">BinOp</span>
                       (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderpriority&quot;</span>) <span class="st">&quot;&lt;&gt;&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;1-URGENT&quot;</span>))
                       <span class="st">&quot;and&quot;</span>
                       (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderpriority&quot;</span>) <span class="st">&quot;&lt;&gt;&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;2-HIGH&quot;</span>)),
                     <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>)]
                   (<span class="kw">Just</span> (<span class="dt">NumLit</span> <span class="st">&quot;0&quot;</span>))])],
          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;orders&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>],
          qeWhere <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">BinOp</span>
                 (<span class="dt">BinOp</span>
                    (<span class="dt">BinOp</span>
                       (<span class="dt">BinOp</span>
                          (<span class="dt">In</span> <span class="kw">True</span>
                             (<span class="dt">BinOp</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_orderkey&quot;</span>)) <span class="st">&quot;and&quot;</span>
                                (<span class="dt">Iden</span> <span class="st">&quot;l_shipmode&quot;</span>))
                             (<span class="dt">InList</span> [<span class="dt">StringLit</span> <span class="st">&quot;AIR&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;RAIL&quot;</span>]))
                          <span class="st">&quot;and&quot;</span>
                          (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_commitdate&quot;</span>) <span class="st">&quot;&lt;&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_receiptdate&quot;</span>)))
                       <span class="st">&quot;and&quot;</span>
                       (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_shipdate&quot;</span>) <span class="st">&quot;&lt;&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_commitdate&quot;</span>)))
                    <span class="st">&quot;and&quot;</span>
                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_receiptdate&quot;</span>) <span class="st">&quot;&gt;=&quot;</span>
                       (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1994-01-01&quot;</span>)))
                 <span class="st">&quot;and&quot;</span>
                 (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_receiptdate&quot;</span>) <span class="st">&quot;&lt;&quot;</span>
                    (<span class="dt">BinOp</span> (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1994-01-01&quot;</span>) <span class="st">&quot;+&quot;</span>
                       (<span class="dt">IntervalLit</span> <span class="st">&quot;1&quot;</span> <span class="st">&quot;year&quot;</span> <span class="kw">Nothing</span>)))),
          qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;l_shipmode&quot;</span>], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;l_shipmode&quot;</span>, <span class="dt">Asc</span>)], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         c_count,
         <span class="fu">count</span>(*) <span class="kw">as</span> custdist
 <span class="kw">from</span>
         (
                 <span class="kw">select</span>
                         c_custkey,
                         <span class="fu">count</span>(o_orderkey)
                 <span class="kw">from</span>
                         customer <span class="kw">left</span> <span class="kw">outer</span> <span class="kw">join</span> orders <span class="kw">on</span>
                                 c_custkey = o_custkey
                                 <span class="kw">and</span> o_comment <span class="kw">not</span> <span class="kw">like</span> <span class="st">&#39;%pending%requests%&#39;</span>
                 <span class="kw">group</span> <span class="kw">by</span>
                         c_custkey
         ) <span class="kw">as</span> c_orders (c_custkey, c_count)
 <span class="kw">group</span> <span class="kw">by</span>
         c_count
 <span class="kw">order</span> <span class="kw">by</span>
         custdist <span class="kw">desc</span>,
         c_count <span class="kw">desc</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;c_count&quot;</span>), (<span class="kw">Just</span> <span class="st">&quot;custdist&quot;</span>, <span class="dt">App</span> <span class="st">&quot;count&quot;</span> [<span class="dt">Star</span>])],
          qeFrom <span class="fu">=</span>
            [<span class="dt">TRAlias</span>
               (<span class="dt">TRQueryExpr</span>
                  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                          qeSelectList <span class="fu">=</span>
                            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;c_custkey&quot;</span>),
                             (<span class="kw">Nothing</span>, <span class="dt">App</span> <span class="st">&quot;count&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;o_orderkey&quot;</span>])],
                          qeFrom <span class="fu">=</span>
                            [<span class="dt">TRJoin</span> (<span class="dt">TRSimple</span> <span class="st">&quot;customer&quot;</span>) <span class="dt">JLeft</span> (<span class="dt">TRSimple</span> <span class="st">&quot;orders&quot;</span>)
                               (<span class="kw">Just</span>
                                  (<span class="dt">JoinOn</span>
                                     (<span class="dt">BinOp</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;c_custkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;o_custkey&quot;</span>)) <span class="st">&quot;and&quot;</span>
                                        (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_comment&quot;</span>) <span class="st">&quot;not like&quot;</span>
                                           (<span class="dt">StringLit</span> <span class="st">&quot;%pending%requests%&quot;</span>)))))],
                          qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;c_custkey&quot;</span>],
                          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
                          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}))
               <span class="st">&quot;c_orders&quot;</span>
               (<span class="kw">Just</span> [<span class="st">&quot;c_custkey&quot;</span>, <span class="st">&quot;c_count&quot;</span>])],
          qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;c_count&quot;</span>],
          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;custdist&quot;</span>, <span class="dt">Desc</span>), (<span class="dt">Iden</span> <span class="st">&quot;c_count&quot;</span>, <span class="dt">Desc</span>)],
          qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         <span class="fl">100.00</span> * <span class="fu">sum</span>(<span class="kw">case</span>
                 <span class="kw">when</span> p_type <span class="kw">like</span> <span class="st">&#39;PROMO%&#39;</span>
                         <span class="kw">then</span> l_extendedprice * (<span class="dv">1</span> - l_discount)
                 <span class="kw">else</span> <span class="dv">0</span>
         <span class="kw">end</span>) / <span class="fu">sum</span>(l_extendedprice * (<span class="dv">1</span> - l_discount)) <span class="kw">as</span> promo_revenue
 <span class="kw">from</span>
         lineitem,
         part
 <span class="kw">where</span>
         l_partkey = p_partkey
         <span class="kw">and</span> l_shipdate &gt;= <span class="dt">date</span> <span class="st">&#39;1994-12-01&#39;</span>
         <span class="kw">and</span> l_shipdate &lt; <span class="dt">date</span> <span class="st">&#39;1994-12-01&#39;</span> + <span class="dt">interval</span> <span class="st">&#39;1&#39;</span> <span class="dt">month</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Just</span> <span class="st">&quot;promo_revenue&quot;</span>,
              <span class="dt">BinOp</span>
                (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;100.00&quot;</span>) <span class="st">&quot;*&quot;</span>
                   (<span class="dt">App</span> <span class="st">&quot;sum&quot;</span>
                      [<span class="dt">Case</span> <span class="kw">Nothing</span>
                         [(<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_type&quot;</span>) <span class="st">&quot;like&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;PROMO%&quot;</span>),
                           <span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_extendedprice&quot;</span>) <span class="st">&quot;*&quot;</span>
                             (<span class="dt">Parens</span> (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>) <span class="st">&quot;-&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_discount&quot;</span>))))]
                         (<span class="kw">Just</span> (<span class="dt">NumLit</span> <span class="st">&quot;0&quot;</span>))]))
                <span class="st">&quot;/&quot;</span>
                (<span class="dt">App</span> <span class="st">&quot;sum&quot;</span>
                   [<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_extendedprice&quot;</span>) <span class="st">&quot;*&quot;</span>
                      (<span class="dt">Parens</span> (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>) <span class="st">&quot;-&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_discount&quot;</span>)))]))],
          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;part&quot;</span>],
          qeWhere <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">BinOp</span>
                 (<span class="dt">BinOp</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_partkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;p_partkey&quot;</span>)) <span class="st">&quot;and&quot;</span>
                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_shipdate&quot;</span>) <span class="st">&quot;&gt;=&quot;</span>
                       (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1994-12-01&quot;</span>)))
                 <span class="st">&quot;and&quot;</span>
                 (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_shipdate&quot;</span>) <span class="st">&quot;&lt;&quot;</span>
                    (<span class="dt">BinOp</span> (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1994-12-01&quot;</span>) <span class="st">&quot;+&quot;</span>
                       (<span class="dt">IntervalLit</span> <span class="st">&quot;1&quot;</span> <span class="st">&quot;month&quot;</span> <span class="kw">Nothing</span>)))),
          qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
          qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="co">/*create view revenue0 (supplier_no, total_revenue) as</span>
<span class="co">         select</span>
<span class="co">                 l_suppkey,</span>
<span class="co">                 sum(l_extendedprice * (1 - l_discount))</span>
<span class="co">         from</span>
<span class="co">                 lineitem</span>
<span class="co">         where</span>
<span class="co">                 l_shipdate &gt;= date &#39;1995-06-01&#39;</span>
<span class="co">                 and l_shipdate &lt; date &#39;1995-06-01&#39; + interval &#39;3&#39; month</span>
<span class="co">         group by</span>
<span class="co">                 l_suppkey;*/</span>
 <span class="kw">with</span>
 revenue0 <span class="kw">as</span>
         (<span class="kw">select</span>
                 l_suppkey <span class="kw">as</span> supplier_no,
                 <span class="fu">sum</span>(l_extendedprice * (<span class="dv">1</span> - l_discount)) <span class="kw">as</span> total_revenue
         <span class="kw">from</span>
                 lineitem
         <span class="kw">where</span>
                 l_shipdate &gt;= <span class="dt">date</span> <span class="st">&#39;1995-06-01&#39;</span>
                 <span class="kw">and</span> l_shipdate &lt; <span class="dt">date</span> <span class="st">&#39;1995-06-01&#39;</span> + <span class="dt">interval</span> <span class="st">&#39;3&#39;</span> <span class="dt">month</span>
         <span class="kw">group</span> <span class="kw">by</span>
                 l_suppkey)
 <span class="kw">select</span>
         s_suppkey,
         s_name,
         s_address,
         s_phone,
         total_revenue
 <span class="kw">from</span>
         supplier,
         revenue0
 <span class="kw">where</span>
         s_suppkey = supplier_no
         <span class="kw">and</span> total_revenue = (
                 <span class="kw">select</span>
                         <span class="fu">max</span>(total_revenue)
                 <span class="kw">from</span>
                         revenue0
         )
 <span class="kw">order</span> <span class="kw">by</span>
         s_suppkey</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">With</span>
     [(<span class="st">&quot;revenue0&quot;</span>,
       <span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
              qeSelectList <span class="fu">=</span>
                [(<span class="kw">Just</span> <span class="st">&quot;supplier_no&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;l_suppkey&quot;</span>),
                 (<span class="kw">Just</span> <span class="st">&quot;total_revenue&quot;</span>,
                  <span class="dt">App</span> <span class="st">&quot;sum&quot;</span>
                    [<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_extendedprice&quot;</span>) <span class="st">&quot;*&quot;</span>
                       (<span class="dt">Parens</span> (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>) <span class="st">&quot;-&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_discount&quot;</span>)))])],
              qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>],
              qeWhere <span class="fu">=</span>
                <span class="kw">Just</span>
                  (<span class="dt">BinOp</span>
                     (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_shipdate&quot;</span>) <span class="st">&quot;&gt;=&quot;</span>
                        (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1995-06-01&quot;</span>))
                     <span class="st">&quot;and&quot;</span>
                     (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_shipdate&quot;</span>) <span class="st">&quot;&lt;&quot;</span>
                        (<span class="dt">BinOp</span> (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>) <span class="st">&quot;1995-06-01&quot;</span>) <span class="st">&quot;+&quot;</span>
                           (<span class="dt">IntervalLit</span> <span class="st">&quot;3&quot;</span> <span class="st">&quot;month&quot;</span> <span class="kw">Nothing</span>)))),
              qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;l_suppkey&quot;</span>], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
              qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})]
     (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
             qeSelectList <span class="fu">=</span>
               [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;s_suppkey&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;s_name&quot;</span>),
                (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;s_address&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;s_phone&quot;</span>),
                (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;total_revenue&quot;</span>)],
             qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;supplier&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;revenue0&quot;</span>],
             qeWhere <span class="fu">=</span>
               <span class="kw">Just</span>
                 (<span class="dt">BinOp</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_suppkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;supplier_no&quot;</span>)) <span class="st">&quot;and&quot;</span>
                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;total_revenue&quot;</span>) <span class="st">&quot;=&quot;</span>
                       (<span class="dt">SubQueryExpr</span> <span class="dt">SqSq</span>
                          (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                                  qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">App</span> <span class="st">&quot;max&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;total_revenue&quot;</span>])],
                                  qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;revenue0&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [],
                                  qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
                                  qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})))),
             qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
             qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;s_suppkey&quot;</span>, <span class="dt">Asc</span>)], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
             qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}))</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         p_brand,
         p_type,
         p_size,
         <span class="fu">count</span>(<span class="kw">distinct</span> ps_suppkey) <span class="kw">as</span> supplier_cnt
 <span class="kw">from</span>
         partsupp,
         part
 <span class="kw">where</span>
         p_partkey = ps_partkey
         <span class="kw">and</span> p_brand &lt;&gt; <span class="st">&#39;Brand#15&#39;</span>
         <span class="kw">and</span> p_type <span class="kw">not</span> <span class="kw">like</span> <span class="st">&#39;MEDIUM BURNISHED%&#39;</span>
         <span class="kw">and</span> p_size <span class="kw">in</span> (<span class="dv">39</span>, <span class="dv">26</span>, <span class="dv">18</span>, <span class="dv">45</span>, <span class="dv">19</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">9</span>)
         <span class="kw">and</span> ps_suppkey <span class="kw">not</span> <span class="kw">in</span> (
                 <span class="kw">select</span>
                         s_suppkey
                 <span class="kw">from</span>
                         supplier
                 <span class="kw">where</span>
                         s_comment <span class="kw">like</span> <span class="st">&#39;%Customer%Complaints%&#39;</span>
         )
 <span class="kw">group</span> <span class="kw">by</span>
         p_brand,
         p_type,
         p_size
 <span class="kw">order</span> <span class="kw">by</span>
         supplier_cnt <span class="kw">desc</span>,
         p_brand,
         p_type,
         p_size</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;p_brand&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;p_type&quot;</span>),
             (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;p_size&quot;</span>),
             (<span class="kw">Just</span> <span class="st">&quot;supplier_cnt&quot;</span>,
              <span class="dt">AggregateApp</span> <span class="st">&quot;count&quot;</span> (<span class="kw">Just</span> <span class="dt">Distinct</span>) [<span class="dt">Iden</span> <span class="st">&quot;ps_suppkey&quot;</span>] [])],
          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;partsupp&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;part&quot;</span>],
          qeWhere <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">In</span> <span class="kw">False</span>
                 (<span class="dt">BinOp</span>
                    (<span class="dt">In</span> <span class="kw">True</span>
                       (<span class="dt">BinOp</span>
                          (<span class="dt">BinOp</span>
                             (<span class="dt">BinOp</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_partkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_partkey&quot;</span>)) <span class="st">&quot;and&quot;</span>
                                (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_brand&quot;</span>) <span class="st">&quot;&lt;&gt;&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;Brand#15&quot;</span>)))
                             <span class="st">&quot;and&quot;</span>
                             (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_type&quot;</span>) <span class="st">&quot;not like&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;MEDIUM BURNISHED%&quot;</span>)))
                          <span class="st">&quot;and&quot;</span>
                          (<span class="dt">Iden</span> <span class="st">&quot;p_size&quot;</span>))
                       (<span class="dt">InList</span>
                          [<span class="dt">NumLit</span> <span class="st">&quot;39&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;26&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;18&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;45&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;19&quot;</span>,
                           <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;3&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;9&quot;</span>]))
                    <span class="st">&quot;and&quot;</span>
                    (<span class="dt">Iden</span> <span class="st">&quot;ps_suppkey&quot;</span>))
                 (<span class="dt">InQueryExpr</span>
                    (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                            qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;s_suppkey&quot;</span>)],
                            qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;supplier&quot;</span>],
                            qeWhere <span class="fu">=</span>
                              <span class="kw">Just</span>
                                (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_comment&quot;</span>) <span class="st">&quot;like&quot;</span>
                                   (<span class="dt">StringLit</span> <span class="st">&quot;%Customer%Complaints%&quot;</span>)),
                            qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
                            qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}))),
          qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;p_brand&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;p_type&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;p_size&quot;</span>],
          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOrderBy <span class="fu">=</span>
            [(<span class="dt">Iden</span> <span class="st">&quot;supplier_cnt&quot;</span>, <span class="dt">Desc</span>), (<span class="dt">Iden</span> <span class="st">&quot;p_brand&quot;</span>, <span class="dt">Asc</span>),
             (<span class="dt">Iden</span> <span class="st">&quot;p_type&quot;</span>, <span class="dt">Asc</span>), (<span class="dt">Iden</span> <span class="st">&quot;p_size&quot;</span>, <span class="dt">Asc</span>)],
          qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         <span class="fu">sum</span>(l_extendedprice) / <span class="fl">7.0</span> <span class="kw">as</span> avg_yearly
 <span class="kw">from</span>
         lineitem,
         part
 <span class="kw">where</span>
         p_partkey = l_partkey
         <span class="kw">and</span> p_brand = <span class="st">&#39;Brand#52&#39;</span>
         <span class="kw">and</span> p_container = <span class="st">&#39;JUMBO CAN&#39;</span>
         <span class="kw">and</span> l_quantity &lt; (
                 <span class="kw">select</span>
                         <span class="fl">0.2</span> * <span class="fu">avg</span>(l_quantity)
                 <span class="kw">from</span>
                         lineitem
                 <span class="kw">where</span>
                         l_partkey = p_partkey
         )</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Just</span> <span class="st">&quot;avg_yearly&quot;</span>,
              <span class="dt">BinOp</span> (<span class="dt">App</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;l_extendedprice&quot;</span>]) <span class="st">&quot;/&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;7.0&quot;</span>))],
          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;part&quot;</span>],
          qeWhere <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">BinOp</span>
                 (<span class="dt">BinOp</span>
                    (<span class="dt">BinOp</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_partkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_partkey&quot;</span>)) <span class="st">&quot;and&quot;</span>
                       (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_brand&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;Brand#52&quot;</span>)))
                    <span class="st">&quot;and&quot;</span>
                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_container&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;JUMBO CAN&quot;</span>)))
                 <span class="st">&quot;and&quot;</span>
                 (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_quantity&quot;</span>) <span class="st">&quot;&lt;&quot;</span>
                    (<span class="dt">SubQueryExpr</span> <span class="dt">SqSq</span>
                       (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                               qeSelectList <span class="fu">=</span>
                                 [(<span class="kw">Nothing</span>,
                                   <span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;0.2&quot;</span>) <span class="st">&quot;*&quot;</span> (<span class="dt">App</span> <span class="st">&quot;avg&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;l_quantity&quot;</span>]))],
                               qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>],
                               qeWhere <span class="fu">=</span> <span class="kw">Just</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_partkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;p_partkey&quot;</span>)),
                               qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
                               qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})))),
          qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
          qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         c_name,
         c_custkey,
         o_orderkey,
         o_orderdate,
         o_totalprice,
         <span class="fu">sum</span>(l_quantity)
 <span class="kw">from</span>
         customer,
         orders,
         lineitem
 <span class="kw">where</span>
         o_orderkey <span class="kw">in</span> (
                 <span class="kw">select</span>
                         l_orderkey
                 <span class="kw">from</span>
                         lineitem
                 <span class="kw">group</span> <span class="kw">by</span>
                         l_orderkey <span class="kw">having</span>
                                 <span class="fu">sum</span>(l_quantity) &gt; <span class="dv">313</span>
         )
         <span class="kw">and</span> c_custkey = o_custkey
         <span class="kw">and</span> o_orderkey = l_orderkey
 <span class="kw">group</span> <span class="kw">by</span>
         c_name,
         c_custkey,
         o_orderkey,
         o_orderdate,
         o_totalprice
 <span class="kw">order</span> <span class="kw">by</span>
         o_totalprice <span class="kw">desc</span>,
         o_orderdate
 <span class="kw">limit</span> <span class="dv">100</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;c_name&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;c_custkey&quot;</span>),
             (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;o_orderkey&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;o_orderdate&quot;</span>),
             (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;o_totalprice&quot;</span>),
             (<span class="kw">Nothing</span>, <span class="dt">App</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;l_quantity&quot;</span>])],
          qeFrom <span class="fu">=</span>
            [<span class="dt">TRSimple</span> <span class="st">&quot;customer&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;orders&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>],
          qeWhere <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">BinOp</span>
                 (<span class="dt">BinOp</span>
                    (<span class="dt">In</span> <span class="kw">True</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderkey&quot;</span>)
                       (<span class="dt">InQueryExpr</span>
                          (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                                  qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;l_orderkey&quot;</span>)],
                                  qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>], qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>,
                                  qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;l_orderkey&quot;</span>],
                                  qeHaving <span class="fu">=</span>
                                    <span class="kw">Just</span> (<span class="dt">BinOp</span> (<span class="dt">App</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;l_quantity&quot;</span>]) <span class="st">&quot;&gt;&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;313&quot;</span>)),
                                  qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})))
                    <span class="st">&quot;and&quot;</span>
                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;c_custkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;o_custkey&quot;</span>)))
                 <span class="st">&quot;and&quot;</span>
                 (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_orderkey&quot;</span>))),
          qeGroupBy <span class="fu">=</span>
            [<span class="dt">Iden</span> <span class="st">&quot;c_name&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;c_custkey&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;o_orderkey&quot;</span>,
             <span class="dt">Iden</span> <span class="st">&quot;o_orderdate&quot;</span>, <span class="dt">Iden</span> <span class="st">&quot;o_totalprice&quot;</span>],
          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOrderBy <span class="fu">=</span>
            [(<span class="dt">Iden</span> <span class="st">&quot;o_totalprice&quot;</span>, <span class="dt">Desc</span>), (<span class="dt">Iden</span> <span class="st">&quot;o_orderdate&quot;</span>, <span class="dt">Asc</span>)],
          qeLimit <span class="fu">=</span> <span class="kw">Just</span> (<span class="dt">NumLit</span> <span class="st">&quot;100&quot;</span>), qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         <span class="fu">sum</span>(l_extendedprice* (<span class="dv">1</span> - l_discount)) <span class="kw">as</span> revenue
 <span class="kw">from</span>
         lineitem,
         part
 <span class="kw">where</span>
         (
                 p_partkey = l_partkey
                 <span class="kw">and</span> p_brand = <span class="st">&#39;Brand#43&#39;</span>
                 <span class="kw">and</span> p_container <span class="kw">in</span> (<span class="st">&#39;SM CASE&#39;</span>, <span class="st">&#39;SM BOX&#39;</span>, <span class="st">&#39;SM PACK&#39;</span>, <span class="st">&#39;SM PKG&#39;</span>)
                 <span class="kw">and</span> l_quantity &gt;= <span class="dv">3</span> <span class="kw">and</span> l_quantity &lt;= <span class="dv">3</span> + <span class="dv">10</span>
                 <span class="kw">and</span> p_size <span class="kw">between</span> <span class="dv">1</span> <span class="kw">and</span> <span class="dv">5</span>
                 <span class="kw">and</span> l_shipmode <span class="kw">in</span> (<span class="st">&#39;AIR&#39;</span>, <span class="st">&#39;AIR REG&#39;</span>)
                 <span class="kw">and</span> l_shipinstruct = <span class="st">&#39;DELIVER IN PERSON&#39;</span>
         )
         <span class="kw">or</span>
         (
                 p_partkey = l_partkey
                 <span class="kw">and</span> p_brand = <span class="st">&#39;Brand#25&#39;</span>
                 <span class="kw">and</span> p_container <span class="kw">in</span> (<span class="st">&#39;MED BAG&#39;</span>, <span class="st">&#39;MED BOX&#39;</span>, <span class="st">&#39;MED PKG&#39;</span>, <span class="st">&#39;MED PACK&#39;</span>)
                 <span class="kw">and</span> l_quantity &gt;= <span class="dv">10</span> <span class="kw">and</span> l_quantity &lt;= <span class="dv">10</span> + <span class="dv">10</span>
                 <span class="kw">and</span> p_size <span class="kw">between</span> <span class="dv">1</span> <span class="kw">and</span> <span class="dv">10</span>
                 <span class="kw">and</span> l_shipmode <span class="kw">in</span> (<span class="st">&#39;AIR&#39;</span>, <span class="st">&#39;AIR REG&#39;</span>)
                 <span class="kw">and</span> l_shipinstruct = <span class="st">&#39;DELIVER IN PERSON&#39;</span>
         )
         <span class="kw">or</span>
         (
                 p_partkey = l_partkey
                 <span class="kw">and</span> p_brand = <span class="st">&#39;Brand#24&#39;</span>
                 <span class="kw">and</span> p_container <span class="kw">in</span> (<span class="st">&#39;LG CASE&#39;</span>, <span class="st">&#39;LG BOX&#39;</span>, <span class="st">&#39;LG PACK&#39;</span>, <span class="st">&#39;LG PKG&#39;</span>)
                 <span class="kw">and</span> l_quantity &gt;= <span class="dv">22</span> <span class="kw">and</span> l_quantity &lt;= <span class="dv">22</span> + <span class="dv">10</span>
                 <span class="kw">and</span> p_size <span class="kw">between</span> <span class="dv">1</span> <span class="kw">and</span> <span class="dv">15</span>
                 <span class="kw">and</span> l_shipmode <span class="kw">in</span> (<span class="st">&#39;AIR&#39;</span>, <span class="st">&#39;AIR REG&#39;</span>)
                 <span class="kw">and</span> l_shipinstruct = <span class="st">&#39;DELIVER IN PERSON&#39;</span>
         )</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Just</span> <span class="st">&quot;revenue&quot;</span>,
              <span class="dt">App</span> <span class="st">&quot;sum&quot;</span>
                [<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_extendedprice&quot;</span>) <span class="st">&quot;*&quot;</span>
                   (<span class="dt">Parens</span> (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>) <span class="st">&quot;-&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_discount&quot;</span>)))])],
          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;part&quot;</span>],
          qeWhere <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">BinOp</span>
                 (<span class="dt">BinOp</span>
                    (<span class="dt">Parens</span>
                       (<span class="dt">BinOp</span>
                          (<span class="dt">In</span> <span class="kw">True</span>
                             (<span class="dt">BinOp</span>
                                (<span class="dt">SpecialOp</span> <span class="st">&quot;between&quot;</span>
                                   [<span class="dt">BinOp</span>
                                      (<span class="dt">BinOp</span>
                                         (<span class="dt">BinOp</span>
                                            (<span class="dt">In</span> <span class="kw">True</span>
                                               (<span class="dt">BinOp</span>
                                                  (<span class="dt">BinOp</span>
                                                     (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_partkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                        (<span class="dt">Iden</span> <span class="st">&quot;l_partkey&quot;</span>))
                                                     <span class="st">&quot;and&quot;</span>
                                                     (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_brand&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                        (<span class="dt">StringLit</span> <span class="st">&quot;Brand#43&quot;</span>)))
                                                  <span class="st">&quot;and&quot;</span>
                                                  (<span class="dt">Iden</span> <span class="st">&quot;p_container&quot;</span>))
                                               (<span class="dt">InList</span>
                                                  [<span class="dt">StringLit</span> <span class="st">&quot;SM CASE&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;SM BOX&quot;</span>,
                                                   <span class="dt">StringLit</span> <span class="st">&quot;SM PACK&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;SM PKG&quot;</span>]))
                                            <span class="st">&quot;and&quot;</span>
                                            (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_quantity&quot;</span>) <span class="st">&quot;&gt;=&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;3&quot;</span>)))
                                         <span class="st">&quot;and&quot;</span>
                                         (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_quantity&quot;</span>) <span class="st">&quot;&lt;=&quot;</span>
                                            (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;3&quot;</span>) <span class="st">&quot;+&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;10&quot;</span>))))
                                      <span class="st">&quot;and&quot;</span>
                                      (<span class="dt">Iden</span> <span class="st">&quot;p_size&quot;</span>),
                                    <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;5&quot;</span>])
                                <span class="st">&quot;and&quot;</span>
                                (<span class="dt">Iden</span> <span class="st">&quot;l_shipmode&quot;</span>))
                             (<span class="dt">InList</span> [<span class="dt">StringLit</span> <span class="st">&quot;AIR&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;AIR REG&quot;</span>]))
                          <span class="st">&quot;and&quot;</span>
                          (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_shipinstruct&quot;</span>) <span class="st">&quot;=&quot;</span>
                             (<span class="dt">StringLit</span> <span class="st">&quot;DELIVER IN PERSON&quot;</span>))))
                    <span class="st">&quot;or&quot;</span>
                    (<span class="dt">Parens</span>
                       (<span class="dt">BinOp</span>
                          (<span class="dt">In</span> <span class="kw">True</span>
                             (<span class="dt">BinOp</span>
                                (<span class="dt">SpecialOp</span> <span class="st">&quot;between&quot;</span>
                                   [<span class="dt">BinOp</span>
                                      (<span class="dt">BinOp</span>
                                         (<span class="dt">BinOp</span>
                                            (<span class="dt">In</span> <span class="kw">True</span>
                                               (<span class="dt">BinOp</span>
                                                  (<span class="dt">BinOp</span>
                                                     (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_partkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                        (<span class="dt">Iden</span> <span class="st">&quot;l_partkey&quot;</span>))
                                                     <span class="st">&quot;and&quot;</span>
                                                     (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_brand&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                        (<span class="dt">StringLit</span> <span class="st">&quot;Brand#25&quot;</span>)))
                                                  <span class="st">&quot;and&quot;</span>
                                                  (<span class="dt">Iden</span> <span class="st">&quot;p_container&quot;</span>))
                                               (<span class="dt">InList</span>
                                                  [<span class="dt">StringLit</span> <span class="st">&quot;MED BAG&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;MED BOX&quot;</span>,
                                                   <span class="dt">StringLit</span> <span class="st">&quot;MED PKG&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;MED PACK&quot;</span>]))
                                            <span class="st">&quot;and&quot;</span>
                                            (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_quantity&quot;</span>) <span class="st">&quot;&gt;=&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;10&quot;</span>)))
                                         <span class="st">&quot;and&quot;</span>
                                         (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_quantity&quot;</span>) <span class="st">&quot;&lt;=&quot;</span>
                                            (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;10&quot;</span>) <span class="st">&quot;+&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;10&quot;</span>))))
                                      <span class="st">&quot;and&quot;</span>
                                      (<span class="dt">Iden</span> <span class="st">&quot;p_size&quot;</span>),
                                    <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;10&quot;</span>])
                                <span class="st">&quot;and&quot;</span>
                                (<span class="dt">Iden</span> <span class="st">&quot;l_shipmode&quot;</span>))
                             (<span class="dt">InList</span> [<span class="dt">StringLit</span> <span class="st">&quot;AIR&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;AIR REG&quot;</span>]))
                          <span class="st">&quot;and&quot;</span>
                          (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_shipinstruct&quot;</span>) <span class="st">&quot;=&quot;</span>
                             (<span class="dt">StringLit</span> <span class="st">&quot;DELIVER IN PERSON&quot;</span>)))))
                 <span class="st">&quot;or&quot;</span>
                 (<span class="dt">Parens</span>
                    (<span class="dt">BinOp</span>
                       (<span class="dt">In</span> <span class="kw">True</span>
                          (<span class="dt">BinOp</span>
                             (<span class="dt">SpecialOp</span> <span class="st">&quot;between&quot;</span>
                                [<span class="dt">BinOp</span>
                                   (<span class="dt">BinOp</span>
                                      (<span class="dt">BinOp</span>
                                         (<span class="dt">In</span> <span class="kw">True</span>
                                            (<span class="dt">BinOp</span>
                                               (<span class="dt">BinOp</span>
                                                  (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_partkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;l_partkey&quot;</span>))
                                                  <span class="st">&quot;and&quot;</span>
                                                  (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_brand&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                     (<span class="dt">StringLit</span> <span class="st">&quot;Brand#24&quot;</span>)))
                                               <span class="st">&quot;and&quot;</span>
                                               (<span class="dt">Iden</span> <span class="st">&quot;p_container&quot;</span>))
                                            (<span class="dt">InList</span>
                                               [<span class="dt">StringLit</span> <span class="st">&quot;LG CASE&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;LG BOX&quot;</span>,
                                                <span class="dt">StringLit</span> <span class="st">&quot;LG PACK&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;LG PKG&quot;</span>]))
                                         <span class="st">&quot;and&quot;</span>
                                         (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_quantity&quot;</span>) <span class="st">&quot;&gt;=&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;22&quot;</span>)))
                                      <span class="st">&quot;and&quot;</span>
                                      (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_quantity&quot;</span>) <span class="st">&quot;&lt;=&quot;</span>
                                         (<span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;22&quot;</span>) <span class="st">&quot;+&quot;</span> (<span class="dt">NumLit</span> <span class="st">&quot;10&quot;</span>))))
                                   <span class="st">&quot;and&quot;</span>
                                   (<span class="dt">Iden</span> <span class="st">&quot;p_size&quot;</span>),
                                 <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;15&quot;</span>])
                             <span class="st">&quot;and&quot;</span>
                             (<span class="dt">Iden</span> <span class="st">&quot;l_shipmode&quot;</span>))
                          (<span class="dt">InList</span> [<span class="dt">StringLit</span> <span class="st">&quot;AIR&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;AIR REG&quot;</span>]))
                       <span class="st">&quot;and&quot;</span>
                       (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_shipinstruct&quot;</span>) <span class="st">&quot;=&quot;</span>
                          (<span class="dt">StringLit</span> <span class="st">&quot;DELIVER IN PERSON&quot;</span>))))),
          qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
          qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         s_name,
         s_address
 <span class="kw">from</span>
         supplier,
         nation
 <span class="kw">where</span>
         s_suppkey <span class="kw">in</span> (
                 <span class="kw">select</span>
                         ps_suppkey
                 <span class="kw">from</span>
                         partsupp
                 <span class="kw">where</span>
                         ps_partkey <span class="kw">in</span> (
                                 <span class="kw">select</span>
                                         p_partkey
                                 <span class="kw">from</span>
                                         part
                                 <span class="kw">where</span>
                                         p_name <span class="kw">like</span> <span class="st">&#39;lime%&#39;</span>
                         )
                         <span class="kw">and</span> ps_availqty &gt; (
                                 <span class="kw">select</span>
                                         <span class="fl">0.5</span> * <span class="fu">sum</span>(l_quantity)
                                 <span class="kw">from</span>
                                         lineitem
                                 <span class="kw">where</span>
                                         l_partkey = ps_partkey
                                         <span class="kw">and</span> l_suppkey = ps_suppkey
                                         <span class="kw">and</span> l_shipdate &gt;= <span class="dt">date</span> <span class="st">&#39;1994-01-01&#39;</span>
                                         <span class="kw">and</span> l_shipdate &lt; <span class="dt">date</span> <span class="st">&#39;1994-01-01&#39;</span> + <span class="dt">interval</span> <span class="st">&#39;1&#39;</span> <span class="dt">year</span>
                         )
         )
         <span class="kw">and</span> s_nationkey = n_nationkey
         <span class="kw">and</span> n_name = <span class="st">&#39;VIETNAM&#39;</span>
 <span class="kw">order</span> <span class="kw">by</span>
         s_name</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;s_name&quot;</span>), (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;s_address&quot;</span>)],
          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;supplier&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;nation&quot;</span>],
          qeWhere <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">BinOp</span>
                 (<span class="dt">BinOp</span>
                    (<span class="dt">In</span> <span class="kw">True</span> (<span class="dt">Iden</span> <span class="st">&quot;s_suppkey&quot;</span>)
                       (<span class="dt">InQueryExpr</span>
                          (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                                  qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;ps_suppkey&quot;</span>)],
                                  qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;partsupp&quot;</span>],
                                  qeWhere <span class="fu">=</span>
                                    <span class="kw">Just</span>
                                      (<span class="dt">BinOp</span>
                                         (<span class="dt">In</span> <span class="kw">True</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_partkey&quot;</span>)
                                            (<span class="dt">InQueryExpr</span>
                                               (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                                                       qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;p_partkey&quot;</span>)],
                                                       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;part&quot;</span>],
                                                       qeWhere <span class="fu">=</span>
                                                         <span class="kw">Just</span>
                                                           (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;p_name&quot;</span>) <span class="st">&quot;like&quot;</span>
                                                              (<span class="dt">StringLit</span> <span class="st">&quot;lime%&quot;</span>)),
                                                       qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
                                                       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
                                                       qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})))
                                         <span class="st">&quot;and&quot;</span>
                                         (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;ps_availqty&quot;</span>) <span class="st">&quot;&gt;&quot;</span>
                                            (<span class="dt">SubQueryExpr</span> <span class="dt">SqSq</span>
                                               (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                                                       qeSelectList <span class="fu">=</span>
                                                         [(<span class="kw">Nothing</span>,
                                                           <span class="dt">BinOp</span> (<span class="dt">NumLit</span> <span class="st">&quot;0.5&quot;</span>) <span class="st">&quot;*&quot;</span>
                                                             (<span class="dt">App</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;l_quantity&quot;</span>]))],
                                                       qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>],
                                                       qeWhere <span class="fu">=</span>
                                                         <span class="kw">Just</span>
                                                           (<span class="dt">BinOp</span>
                                                              (<span class="dt">BinOp</span>
                                                                 (<span class="dt">BinOp</span>
                                                                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_partkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                                       (<span class="dt">Iden</span> <span class="st">&quot;ps_partkey&quot;</span>))
                                                                    <span class="st">&quot;and&quot;</span>
                                                                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_suppkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                                       (<span class="dt">Iden</span> <span class="st">&quot;ps_suppkey&quot;</span>)))
                                                                 <span class="st">&quot;and&quot;</span>
                                                                 (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_shipdate&quot;</span>) <span class="st">&quot;&gt;=&quot;</span>
                                                                    (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>)
                                                                       <span class="st">&quot;1994-01-01&quot;</span>)))
                                                              <span class="st">&quot;and&quot;</span>
                                                              (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;l_shipdate&quot;</span>) <span class="st">&quot;&lt;&quot;</span>
                                                                 (<span class="dt">BinOp</span>
                                                                    (<span class="dt">CastOp</span> (<span class="dt">TypeName</span> <span class="st">&quot;date&quot;</span>)
                                                                       <span class="st">&quot;1994-01-01&quot;</span>)
                                                                    <span class="st">&quot;+&quot;</span>
                                                                    (<span class="dt">IntervalLit</span> <span class="st">&quot;1&quot;</span> <span class="st">&quot;year&quot;</span>
                                                                       <span class="kw">Nothing</span>)))),
                                                       qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
                                                       qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
                                                       qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})))),
                                  qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
                                  qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})))
                    <span class="st">&quot;and&quot;</span>
                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_nationkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;n_nationkey&quot;</span>)))
                 <span class="st">&quot;and&quot;</span>
                 (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;n_name&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;VIETNAM&quot;</span>))),
          qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;s_name&quot;</span>, <span class="dt">Asc</span>)], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         s_name,
         <span class="fu">count</span>(*) <span class="kw">as</span> numwait
 <span class="kw">from</span>
         supplier,
         lineitem l1,
         orders,
         nation
 <span class="kw">where</span>
         s_suppkey = l1.l_suppkey
         <span class="kw">and</span> o_orderkey = l1.l_orderkey
         <span class="kw">and</span> o_orderstatus = <span class="st">&#39;F&#39;</span>
         <span class="kw">and</span> l1.l_receiptdate &gt; l1.l_commitdate
         <span class="kw">and</span> <span class="kw">exists</span> (
                 <span class="kw">select</span>
                         *
                 <span class="kw">from</span>
                         lineitem l2
                 <span class="kw">where</span>
                         l2.l_orderkey = l1.l_orderkey
                         <span class="kw">and</span> l2.l_suppkey &lt;&gt; l1.l_suppkey
         )
         <span class="kw">and</span> <span class="kw">not</span> <span class="kw">exists</span> (
                 <span class="kw">select</span>
                         *
                 <span class="kw">from</span>
                         lineitem l3
                 <span class="kw">where</span>
                         l3.l_orderkey = l1.l_orderkey
                         <span class="kw">and</span> l3.l_suppkey &lt;&gt; l1.l_suppkey
                         <span class="kw">and</span> l3.l_receiptdate &gt; l3.l_commitdate
         )
         <span class="kw">and</span> s_nationkey = n_nationkey
         <span class="kw">and</span> n_name = <span class="st">&#39;INDIA&#39;</span>
 <span class="kw">group</span> <span class="kw">by</span>
         s_name
 <span class="kw">order</span> <span class="kw">by</span>
         numwait <span class="kw">desc</span>,
         s_name
 <span class="kw">limit</span> <span class="dv">100</span></code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;s_name&quot;</span>), (<span class="kw">Just</span> <span class="st">&quot;numwait&quot;</span>, <span class="dt">App</span> <span class="st">&quot;count&quot;</span> [<span class="dt">Star</span>])],
          qeFrom <span class="fu">=</span>
            [<span class="dt">TRSimple</span> <span class="st">&quot;supplier&quot;</span>, <span class="dt">TRAlias</span> (<span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>) <span class="st">&quot;l1&quot;</span> <span class="kw">Nothing</span>,
             <span class="dt">TRSimple</span> <span class="st">&quot;orders&quot;</span>, <span class="dt">TRSimple</span> <span class="st">&quot;nation&quot;</span>],
          qeWhere <span class="fu">=</span>
            <span class="kw">Just</span>
              (<span class="dt">BinOp</span>
                 (<span class="dt">BinOp</span>
                    (<span class="dt">BinOp</span>
                       (<span class="dt">BinOp</span>
                          (<span class="dt">BinOp</span> (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_suppkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden2</span> <span class="st">&quot;l1&quot;</span> <span class="st">&quot;l_suppkey&quot;</span>))
                             <span class="st">&quot;and&quot;</span>
                             (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden2</span> <span class="st">&quot;l1&quot;</span> <span class="st">&quot;l_orderkey&quot;</span>)))
                          <span class="st">&quot;and&quot;</span>
                          (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_orderstatus&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;F&quot;</span>)))
                       <span class="st">&quot;and&quot;</span>
                       (<span class="dt">BinOp</span> (<span class="dt">Iden2</span> <span class="st">&quot;l1&quot;</span> <span class="st">&quot;l_receiptdate&quot;</span>) <span class="st">&quot;&gt;&quot;</span>
                          (<span class="dt">Iden2</span> <span class="st">&quot;l1&quot;</span> <span class="st">&quot;l_commitdate&quot;</span>)))
                    <span class="st">&quot;and&quot;</span>
                    (<span class="dt">SubQueryExpr</span> <span class="dt">SqExists</span>
                       (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Star</span>)],
                               qeFrom <span class="fu">=</span> [<span class="dt">TRAlias</span> (<span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>) <span class="st">&quot;l2&quot;</span> <span class="kw">Nothing</span>],
                               qeWhere <span class="fu">=</span>
                                 <span class="kw">Just</span>
                                   (<span class="dt">BinOp</span>
                                      (<span class="dt">BinOp</span> (<span class="dt">Iden2</span> <span class="st">&quot;l2&quot;</span> <span class="st">&quot;l_orderkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                         (<span class="dt">Iden2</span> <span class="st">&quot;l1&quot;</span> <span class="st">&quot;l_orderkey&quot;</span>))
                                      <span class="st">&quot;and&quot;</span>
                                      (<span class="dt">BinOp</span> (<span class="dt">Iden2</span> <span class="st">&quot;l2&quot;</span> <span class="st">&quot;l_suppkey&quot;</span>) <span class="st">&quot;&lt;&gt;&quot;</span>
                                         (<span class="dt">Iden2</span> <span class="st">&quot;l1&quot;</span> <span class="st">&quot;l_suppkey&quot;</span>))),
                               qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
                               qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})))
                 <span class="st">&quot;and&quot;</span>
                 (<span class="dt">PrefixOp</span> <span class="st">&quot;not&quot;</span>
                    (<span class="dt">BinOp</span>
                       (<span class="dt">BinOp</span>
                          (<span class="dt">SubQueryExpr</span> <span class="dt">SqExists</span>
                             (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Star</span>)],
                                     qeFrom <span class="fu">=</span> [<span class="dt">TRAlias</span> (<span class="dt">TRSimple</span> <span class="st">&quot;lineitem&quot;</span>) <span class="st">&quot;l3&quot;</span> <span class="kw">Nothing</span>],
                                     qeWhere <span class="fu">=</span>
                                       <span class="kw">Just</span>
                                         (<span class="dt">BinOp</span>
                                            (<span class="dt">BinOp</span>
                                               (<span class="dt">BinOp</span> (<span class="dt">Iden2</span> <span class="st">&quot;l3&quot;</span> <span class="st">&quot;l_orderkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                  (<span class="dt">Iden2</span> <span class="st">&quot;l1&quot;</span> <span class="st">&quot;l_orderkey&quot;</span>))
                                               <span class="st">&quot;and&quot;</span>
                                               (<span class="dt">BinOp</span> (<span class="dt">Iden2</span> <span class="st">&quot;l3&quot;</span> <span class="st">&quot;l_suppkey&quot;</span>) <span class="st">&quot;&lt;&gt;&quot;</span>
                                                  (<span class="dt">Iden2</span> <span class="st">&quot;l1&quot;</span> <span class="st">&quot;l_suppkey&quot;</span>)))
                                            <span class="st">&quot;and&quot;</span>
                                            (<span class="dt">BinOp</span> (<span class="dt">Iden2</span> <span class="st">&quot;l3&quot;</span> <span class="st">&quot;l_receiptdate&quot;</span>) <span class="st">&quot;&gt;&quot;</span>
                                               (<span class="dt">Iden2</span> <span class="st">&quot;l3&quot;</span> <span class="st">&quot;l_commitdate&quot;</span>))),
                                     qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
                                     qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}))
                          <span class="st">&quot;and&quot;</span>
                          (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;s_nationkey&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">Iden</span> <span class="st">&quot;n_nationkey&quot;</span>)))
                       <span class="st">&quot;and&quot;</span>
                       (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;n_name&quot;</span>) <span class="st">&quot;=&quot;</span> (<span class="dt">StringLit</span> <span class="st">&quot;INDIA&quot;</span>))))),
          qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;s_name&quot;</span>], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
          qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;numwait&quot;</span>, <span class="dt">Desc</span>), (<span class="dt">Iden</span> <span class="st">&quot;s_name&quot;</span>, <span class="dt">Asc</span>)],
          qeLimit <span class="fu">=</span> <span class="kw">Just</span> (<span class="dt">NumLit</span> <span class="st">&quot;100&quot;</span>), qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
<tr><td>
<pre class="sourceCode sql"><code class="sourceCode sql">
 <span class="kw">select</span>
         cntrycode,
         <span class="fu">count</span>(*) <span class="kw">as</span> numcust,
         <span class="fu">sum</span>(c_acctbal) <span class="kw">as</span> totacctbal
 <span class="kw">from</span>
         (
                 <span class="kw">select</span>
                         substring(c_phone <span class="kw">from</span> <span class="dv">1</span> <span class="kw">for</span> <span class="dv">2</span>) <span class="kw">as</span> cntrycode,
                         c_acctbal
                 <span class="kw">from</span>
                         customer
                 <span class="kw">where</span>
                         substring(c_phone <span class="kw">from</span> <span class="dv">1</span> <span class="kw">for</span> <span class="dv">2</span>) <span class="kw">in</span>
                                 (<span class="st">&#39;41&#39;</span>, <span class="st">&#39;28&#39;</span>, <span class="st">&#39;39&#39;</span>, <span class="st">&#39;21&#39;</span>, <span class="st">&#39;24&#39;</span>, <span class="st">&#39;29&#39;</span>, <span class="st">&#39;44&#39;</span>)
                         <span class="kw">and</span> c_acctbal &gt; (
                                 <span class="kw">select</span>
                                         <span class="fu">avg</span>(c_acctbal)
                                 <span class="kw">from</span>
                                         customer
                                 <span class="kw">where</span>
                                         c_acctbal &gt; <span class="fl">0.00</span>
                                         <span class="kw">and</span> substring(c_phone <span class="kw">from</span> <span class="dv">1</span> <span class="kw">for</span> <span class="dv">2</span>) <span class="kw">in</span>
                                                 (<span class="st">&#39;41&#39;</span>, <span class="st">&#39;28&#39;</span>, <span class="st">&#39;39&#39;</span>, <span class="st">&#39;21&#39;</span>, <span class="st">&#39;24&#39;</span>, <span class="st">&#39;29&#39;</span>, <span class="st">&#39;44&#39;</span>)
                         )
                         <span class="kw">and</span> <span class="kw">not</span> <span class="kw">exists</span> (
                                 <span class="kw">select</span>
                                         *
                                 <span class="kw">from</span>
                                         orders
                                 <span class="kw">where</span>
                                         o_custkey = c_custkey
                         )
         ) <span class="kw">as</span> custsale
 <span class="kw">group</span> <span class="kw">by</span>
         cntrycode
 <span class="kw">order</span> <span class="kw">by</span>
         cntrycode</code></pre>
</td><td>
<pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">Right</span>
  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
          qeSelectList <span class="fu">=</span>
            [(<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;cntrycode&quot;</span>), (<span class="kw">Just</span> <span class="st">&quot;numcust&quot;</span>, <span class="dt">App</span> <span class="st">&quot;count&quot;</span> [<span class="dt">Star</span>]),
             (<span class="kw">Just</span> <span class="st">&quot;totacctbal&quot;</span>, <span class="dt">App</span> <span class="st">&quot;sum&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;c_acctbal&quot;</span>])],
          qeFrom <span class="fu">=</span>
            [<span class="dt">TRAlias</span>
               (<span class="dt">TRQueryExpr</span>
                  (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                          qeSelectList <span class="fu">=</span>
                            [(<span class="kw">Just</span> <span class="st">&quot;cntrycode&quot;</span>,
                              <span class="dt">SpecialOp</span> <span class="st">&quot;substring&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;c_phone&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;2&quot;</span>]),
                             (<span class="kw">Nothing</span>, <span class="dt">Iden</span> <span class="st">&quot;c_acctbal&quot;</span>)],
                          qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;customer&quot;</span>],
                          qeWhere <span class="fu">=</span>
                            <span class="kw">Just</span>
                              (<span class="dt">BinOp</span>
                                 (<span class="dt">BinOp</span>
                                    (<span class="dt">In</span> <span class="kw">True</span>
                                       (<span class="dt">SpecialOp</span> <span class="st">&quot;substring&quot;</span>
                                          [<span class="dt">Iden</span> <span class="st">&quot;c_phone&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;2&quot;</span>])
                                       (<span class="dt">InList</span>
                                          [<span class="dt">StringLit</span> <span class="st">&quot;41&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;28&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;39&quot;</span>,
                                           <span class="dt">StringLit</span> <span class="st">&quot;21&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;24&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;29&quot;</span>,
                                           <span class="dt">StringLit</span> <span class="st">&quot;44&quot;</span>]))
                                    <span class="st">&quot;and&quot;</span>
                                    (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;c_acctbal&quot;</span>) <span class="st">&quot;&gt;&quot;</span>
                                       (<span class="dt">SubQueryExpr</span> <span class="dt">SqSq</span>
                                          (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>,
                                                  qeSelectList <span class="fu">=</span>
                                                    [(<span class="kw">Nothing</span>, <span class="dt">App</span> <span class="st">&quot;avg&quot;</span> [<span class="dt">Iden</span> <span class="st">&quot;c_acctbal&quot;</span>])],
                                                  qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;customer&quot;</span>],
                                                  qeWhere <span class="fu">=</span>
                                                    <span class="kw">Just</span>
                                                      (<span class="dt">In</span> <span class="kw">True</span>
                                                         (<span class="dt">BinOp</span>
                                                            (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;c_acctbal&quot;</span>) <span class="st">&quot;&gt;&quot;</span>
                                                               (<span class="dt">NumLit</span> <span class="st">&quot;0.00&quot;</span>))
                                                            <span class="st">&quot;and&quot;</span>
                                                            (<span class="dt">SpecialOp</span> <span class="st">&quot;substring&quot;</span>
                                                               [<span class="dt">Iden</span> <span class="st">&quot;c_phone&quot;</span>, <span class="dt">NumLit</span> <span class="st">&quot;1&quot;</span>,
                                                                <span class="dt">NumLit</span> <span class="st">&quot;2&quot;</span>]))
                                                         (<span class="dt">InList</span>
                                                            [<span class="dt">StringLit</span> <span class="st">&quot;41&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;28&quot;</span>,
                                                             <span class="dt">StringLit</span> <span class="st">&quot;39&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;21&quot;</span>,
                                                             <span class="dt">StringLit</span> <span class="st">&quot;24&quot;</span>, <span class="dt">StringLit</span> <span class="st">&quot;29&quot;</span>,
                                                             <span class="dt">StringLit</span> <span class="st">&quot;44&quot;</span>])),
                                                  qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>,
                                                  qeOrderBy <span class="fu">=</span> [], qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>,
                                                  qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}))))
                                 <span class="st">&quot;and&quot;</span>
                                 (<span class="dt">PrefixOp</span> <span class="st">&quot;not&quot;</span>
                                    (<span class="dt">SubQueryExpr</span> <span class="dt">SqExists</span>
                                       (<span class="dt">Select</span>{qeDuplicates <span class="fu">=</span> <span class="dt">All</span>, qeSelectList <span class="fu">=</span> [(<span class="kw">Nothing</span>, <span class="dt">Star</span>)],
                                               qeFrom <span class="fu">=</span> [<span class="dt">TRSimple</span> <span class="st">&quot;orders&quot;</span>],
                                               qeWhere <span class="fu">=</span>
                                                 <span class="kw">Just</span>
                                                   (<span class="dt">BinOp</span> (<span class="dt">Iden</span> <span class="st">&quot;o_custkey&quot;</span>) <span class="st">&quot;=&quot;</span>
                                                      (<span class="dt">Iden</span> <span class="st">&quot;c_custkey&quot;</span>)),
                                               qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
                                               qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})))),
                          qeGroupBy <span class="fu">=</span> [], qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [],
                          qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>}))
               <span class="st">&quot;custsale&quot;</span>
               <span class="kw">Nothing</span>],
          qeWhere <span class="fu">=</span> <span class="kw">Nothing</span>, qeGroupBy <span class="fu">=</span> [<span class="dt">Iden</span> <span class="st">&quot;cntrycode&quot;</span>],
          qeHaving <span class="fu">=</span> <span class="kw">Nothing</span>, qeOrderBy <span class="fu">=</span> [(<span class="dt">Iden</span> <span class="st">&quot;cntrycode&quot;</span>, <span class="dt">Asc</span>)],
          qeLimit <span class="fu">=</span> <span class="kw">Nothing</span>, qeOffset <span class="fu">=</span> <span class="kw">Nothing</span>})</code></pre>
</td></tr>
</table>

</body>
</html>
